import{e as Xo,r as v,m as Jo,i as ci,w as xs,a as ui,b as Ss,f as Qo,t as di,g as _i,j as fi,o as pi,n as vi,k as hi,c as re,E as k,d as se,l as Vt,p as h,q as D,s as u,u as Se,v as q,x as Ae,y as Re,z as j,F as ae,A as ce,B as g,C as z,D as Oe,G as mi,H as ls,I as Qt,J as Zo,R as wn,K as cs,L as gi,M as Kn,N as xt,O as Tn,P as _n,Q as Us,W as yi,S as bi,T as Ei,U as wi,V as Ti}from"./vue-extras-932ecbcf.js";import{R as H}from"./roslib-2533a6fc.js";import{F as Ue}from"./fusejs-a1032ea1.js";import{s as te,z as Si,e as We,m as us,t as Ai,q as ki,a as Ci,b as Oi,f as Ni,l as xi,c as $i,d as Di,h as Li}from"./d3-9cd3fbd4.js";import{J as Ii}from"./jsoneditor-e59672c6.js";import{j as Bs}from"./jsyaml-38530ef5.js";import{l as Ri,f as Pi,a as Mi,b as Fi,c as Vi,d as Hi,e as ji,g as Wi,h as Ui,i as Bi,j as zi,k as Ki,m as Gi,n as Yi,o as qi,p as Xi,q as Ji,r as Qi,s as Zi,t as ea,u as ta,v as sa,w as na,x as oa,y as ra,z as ia,A as aa,B as la,C as ca,D as ua,E as da,F as _a,G as fa,H as pa,I as va,J as ha}from"./fontawesome-a8893a9e.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();var ye="top",Ne="bottom",xe="right",be="left",$s="auto",Ht=[ye,Ne,xe,be],pt="start",$t="end",er="clippingParents",Sn="viewport",kt="popper",tr="reference",fn=Ht.reduce(function(s,e){return s.concat([e+"-"+pt,e+"-"+$t])},[]),An=[].concat(Ht,[$s]).reduce(function(s,e){return s.concat([e,e+"-"+pt,e+"-"+$t])},[]),sr="beforeRead",nr="read",or="afterRead",rr="beforeMain",ir="main",ar="afterMain",lr="beforeWrite",cr="write",ur="afterWrite",dr=[sr,nr,or,rr,ir,ar,lr,cr,ur];function Ke(s){return s?(s.nodeName||"").toLowerCase():null}function $e(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var e=s.ownerDocument;return e&&e.defaultView||window}return s}function vt(s){var e=$e(s).Element;return s instanceof e||s instanceof Element}function Ie(s){var e=$e(s).HTMLElement;return s instanceof e||s instanceof HTMLElement}function kn(s){if(typeof ShadowRoot>"u")return!1;var e=$e(s).ShadowRoot;return s instanceof e||s instanceof ShadowRoot}function ma(s){var e=s.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},r=e.elements[t];!Ie(r)||!Ke(r)||(Object.assign(r.style,n),Object.keys(o).forEach(function(i){var a=o[i];a===!1?r.removeAttribute(i):r.setAttribute(i,a===!0?"":a)}))})}function ga(s){var e=s.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var o=e.elements[n],r=e.attributes[n]||{},i=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),a=i.reduce(function(l,c){return l[c]="",l},{});!Ie(o)||!Ke(o)||(Object.assign(o.style,a),Object.keys(r).forEach(function(l){o.removeAttribute(l)}))})}}const Cn={name:"applyStyles",enabled:!0,phase:"write",fn:ma,effect:ga,requires:["computeStyles"]};function Be(s){return s.split("-")[0]}var ft=Math.max,As=Math.min,Dt=Math.round;function pn(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function _r(){return!/^((?!chrome|android).)*safari/i.test(pn())}function Lt(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=s.getBoundingClientRect(),o=1,r=1;e&&Ie(s)&&(o=s.offsetWidth>0&&Dt(n.width)/s.offsetWidth||1,r=s.offsetHeight>0&&Dt(n.height)/s.offsetHeight||1);var i=vt(s)?$e(s):window,a=i.visualViewport,l=!_r()&&t,c=(n.left+(l&&a?a.offsetLeft:0))/o,d=(n.top+(l&&a?a.offsetTop:0))/r,f=n.width/o,_=n.height/r;return{width:f,height:_,top:d,right:c+f,bottom:d+_,left:c,x:c,y:d}}function On(s){var e=Lt(s),t=s.offsetWidth,n=s.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:s.offsetLeft,y:s.offsetTop,width:t,height:n}}function fr(s,e){var t=e.getRootNode&&e.getRootNode();if(s.contains(e))return!0;if(t&&kn(t)){var n=e;do{if(n&&s.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Ze(s){return $e(s).getComputedStyle(s)}function ya(s){return["table","td","th"].indexOf(Ke(s))>=0}function at(s){return((vt(s)?s.ownerDocument:s.document)||window.document).documentElement}function Ds(s){return Ke(s)==="html"?s:s.assignedSlot||s.parentNode||(kn(s)?s.host:null)||at(s)}function Gn(s){return!Ie(s)||Ze(s).position==="fixed"?null:s.offsetParent}function ba(s){var e=/firefox/i.test(pn()),t=/Trident/i.test(pn());if(t&&Ie(s)){var n=Ze(s);if(n.position==="fixed")return null}var o=Ds(s);for(kn(o)&&(o=o.host);Ie(o)&&["html","body"].indexOf(Ke(o))<0;){var r=Ze(o);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return o;o=o.parentNode}return null}function ts(s){for(var e=$e(s),t=Gn(s);t&&ya(t)&&Ze(t).position==="static";)t=Gn(t);return t&&(Ke(t)==="html"||Ke(t)==="body"&&Ze(t).position==="static")?e:t||ba(s)||e}function Nn(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function qt(s,e,t){return ft(s,As(e,t))}function Ea(s,e,t){var n=qt(s,e,t);return n>t?t:n}function pr(){return{top:0,right:0,bottom:0,left:0}}function vr(s){return Object.assign({},pr(),s)}function hr(s,e){return e.reduce(function(t,n){return t[n]=s,t},{})}var wa=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,vr(typeof e!="number"?e:hr(e,Ht))};function Ta(s){var e,t=s.state,n=s.name,o=s.options,r=t.elements.arrow,i=t.modifiersData.popperOffsets,a=Be(t.placement),l=Nn(a),c=[be,xe].indexOf(a)>=0,d=c?"height":"width";if(!(!r||!i)){var f=wa(o.padding,t),_=On(r),p=l==="y"?ye:be,O=l==="y"?Ne:xe,T=t.rects.reference[d]+t.rects.reference[l]-i[l]-t.rects.popper[d],y=i[l]-t.rects.reference[l],I=ts(r),R=I?l==="y"?I.clientHeight||0:I.clientWidth||0:0,E=T/2-y/2,$=f[p],F=R-_[d]-f[O],S=R/2-_[d]/2+E,L=qt($,S,F),N=l;t.modifiersData[n]=(e={},e[N]=L,e.centerOffset=L-S,e)}}function Sa(s){var e=s.state,t=s.options,n=t.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||fr(e.elements.popper,o)&&(e.elements.arrow=o))}const mr={name:"arrow",enabled:!0,phase:"main",fn:Ta,effect:Sa,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function It(s){return s.split("-")[1]}var Aa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ka(s,e){var t=s.x,n=s.y,o=e.devicePixelRatio||1;return{x:Dt(t*o)/o||0,y:Dt(n*o)/o||0}}function Yn(s){var e,t=s.popper,n=s.popperRect,o=s.placement,r=s.variation,i=s.offsets,a=s.position,l=s.gpuAcceleration,c=s.adaptive,d=s.roundOffsets,f=s.isFixed,_=i.x,p=_===void 0?0:_,O=i.y,T=O===void 0?0:O,y=typeof d=="function"?d({x:p,y:T}):{x:p,y:T};p=y.x,T=y.y;var I=i.hasOwnProperty("x"),R=i.hasOwnProperty("y"),E=be,$=ye,F=window;if(c){var S=ts(t),L="clientHeight",N="clientWidth";if(S===$e(t)&&(S=at(t),Ze(S).position!=="static"&&a==="absolute"&&(L="scrollHeight",N="scrollWidth")),S=S,o===ye||(o===be||o===xe)&&r===$t){$=Ne;var P=f&&S===F&&F.visualViewport?F.visualViewport.height:S[L];T-=P-n.height,T*=l?1:-1}if(o===be||(o===ye||o===Ne)&&r===$t){E=xe;var U=f&&S===F&&F.visualViewport?F.visualViewport.width:S[N];p-=U-n.width,p*=l?1:-1}}var J=Object.assign({position:a},c&&Aa),ne=d===!0?ka({x:p,y:T},$e(t)):{x:p,y:T};if(p=ne.x,T=ne.y,l){var M;return Object.assign({},J,(M={},M[$]=R?"0":"",M[E]=I?"0":"",M.transform=(F.devicePixelRatio||1)<=1?"translate("+p+"px, "+T+"px)":"translate3d("+p+"px, "+T+"px, 0)",M))}return Object.assign({},J,(e={},e[$]=R?T+"px":"",e[E]=I?p+"px":"",e.transform="",e))}function Ca(s){var e=s.state,t=s.options,n=t.gpuAcceleration,o=n===void 0?!0:n,r=t.adaptive,i=r===void 0?!0:r,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:Be(e.placement),variation:It(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Yn(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Yn(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const xn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ca,data:{}};var ds={passive:!0};function Oa(s){var e=s.state,t=s.instance,n=s.options,o=n.scroll,r=o===void 0?!0:o,i=n.resize,a=i===void 0?!0:i,l=$e(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(d){d.addEventListener("scroll",t.update,ds)}),a&&l.addEventListener("resize",t.update,ds),function(){r&&c.forEach(function(d){d.removeEventListener("scroll",t.update,ds)}),a&&l.removeEventListener("resize",t.update,ds)}}const $n={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Oa,data:{}};var Na={left:"right",right:"left",bottom:"top",top:"bottom"};function Es(s){return s.replace(/left|right|bottom|top/g,function(e){return Na[e]})}var xa={start:"end",end:"start"};function qn(s){return s.replace(/start|end/g,function(e){return xa[e]})}function Dn(s){var e=$e(s),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function Ln(s){return Lt(at(s)).left+Dn(s).scrollLeft}function $a(s,e){var t=$e(s),n=at(s),o=t.visualViewport,r=n.clientWidth,i=n.clientHeight,a=0,l=0;if(o){r=o.width,i=o.height;var c=_r();(c||!c&&e==="fixed")&&(a=o.offsetLeft,l=o.offsetTop)}return{width:r,height:i,x:a+Ln(s),y:l}}function Da(s){var e,t=at(s),n=Dn(s),o=(e=s.ownerDocument)==null?void 0:e.body,r=ft(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=ft(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+Ln(s),l=-n.scrollTop;return Ze(o||t).direction==="rtl"&&(a+=ft(t.clientWidth,o?o.clientWidth:0)-r),{width:r,height:i,x:a,y:l}}function In(s){var e=Ze(s),t=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+n)}function gr(s){return["html","body","#document"].indexOf(Ke(s))>=0?s.ownerDocument.body:Ie(s)&&In(s)?s:gr(Ds(s))}function Xt(s,e){var t;e===void 0&&(e=[]);var n=gr(s),o=n===((t=s.ownerDocument)==null?void 0:t.body),r=$e(n),i=o?[r].concat(r.visualViewport||[],In(n)?n:[]):n,a=e.concat(i);return o?a:a.concat(Xt(Ds(i)))}function vn(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function La(s,e){var t=Lt(s,!1,e==="fixed");return t.top=t.top+s.clientTop,t.left=t.left+s.clientLeft,t.bottom=t.top+s.clientHeight,t.right=t.left+s.clientWidth,t.width=s.clientWidth,t.height=s.clientHeight,t.x=t.left,t.y=t.top,t}function Xn(s,e,t){return e===Sn?vn($a(s,t)):vt(e)?La(e,t):vn(Da(at(s)))}function Ia(s){var e=Xt(Ds(s)),t=["absolute","fixed"].indexOf(Ze(s).position)>=0,n=t&&Ie(s)?ts(s):s;return vt(n)?e.filter(function(o){return vt(o)&&fr(o,n)&&Ke(o)!=="body"}):[]}function Ra(s,e,t,n){var o=e==="clippingParents"?Ia(s):[].concat(e),r=[].concat(o,[t]),i=r[0],a=r.reduce(function(l,c){var d=Xn(s,c,n);return l.top=ft(d.top,l.top),l.right=As(d.right,l.right),l.bottom=As(d.bottom,l.bottom),l.left=ft(d.left,l.left),l},Xn(s,i,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function yr(s){var e=s.reference,t=s.element,n=s.placement,o=n?Be(n):null,r=n?It(n):null,i=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(o){case ye:l={x:i,y:e.y-t.height};break;case Ne:l={x:i,y:e.y+e.height};break;case xe:l={x:e.x+e.width,y:a};break;case be:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=o?Nn(o):null;if(c!=null){var d=c==="y"?"height":"width";switch(r){case pt:l[c]=l[c]-(e[d]/2-t[d]/2);break;case $t:l[c]=l[c]+(e[d]/2-t[d]/2);break}}return l}function Rt(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=n===void 0?s.placement:n,r=t.strategy,i=r===void 0?s.strategy:r,a=t.boundary,l=a===void 0?er:a,c=t.rootBoundary,d=c===void 0?Sn:c,f=t.elementContext,_=f===void 0?kt:f,p=t.altBoundary,O=p===void 0?!1:p,T=t.padding,y=T===void 0?0:T,I=vr(typeof y!="number"?y:hr(y,Ht)),R=_===kt?tr:kt,E=s.rects.popper,$=s.elements[O?R:_],F=Ra(vt($)?$:$.contextElement||at(s.elements.popper),l,d,i),S=Lt(s.elements.reference),L=yr({reference:S,element:E,strategy:"absolute",placement:o}),N=vn(Object.assign({},E,L)),P=_===kt?N:S,U={top:F.top-P.top+I.top,bottom:P.bottom-F.bottom+I.bottom,left:F.left-P.left+I.left,right:P.right-F.right+I.right},J=s.modifiersData.offset;if(_===kt&&J){var ne=J[o];Object.keys(U).forEach(function(M){var Q=[xe,Ne].indexOf(M)>=0?1:-1,Z=[ye,Ne].indexOf(M)>=0?"y":"x";U[M]+=ne[Z]*Q})}return U}function Pa(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=t.boundary,r=t.rootBoundary,i=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?An:l,d=It(n),f=d?a?fn:fn.filter(function(O){return It(O)===d}):Ht,_=f.filter(function(O){return c.indexOf(O)>=0});_.length===0&&(_=f);var p=_.reduce(function(O,T){return O[T]=Rt(s,{placement:T,boundary:o,rootBoundary:r,padding:i})[Be(T)],O},{});return Object.keys(p).sort(function(O,T){return p[O]-p[T]})}function Ma(s){if(Be(s)===$s)return[];var e=Es(s);return[qn(s),e,qn(e)]}function Fa(s){var e=s.state,t=s.options,n=s.name;if(!e.modifiersData[n]._skip){for(var o=t.mainAxis,r=o===void 0?!0:o,i=t.altAxis,a=i===void 0?!0:i,l=t.fallbackPlacements,c=t.padding,d=t.boundary,f=t.rootBoundary,_=t.altBoundary,p=t.flipVariations,O=p===void 0?!0:p,T=t.allowedAutoPlacements,y=e.options.placement,I=Be(y),R=I===y,E=l||(R||!O?[Es(y)]:Ma(y)),$=[y].concat(E).reduce(function(ge,ve){return ge.concat(Be(ve)===$s?Pa(e,{placement:ve,boundary:d,rootBoundary:f,padding:c,flipVariations:O,allowedAutoPlacements:T}):ve)},[]),F=e.rects.reference,S=e.rects.popper,L=new Map,N=!0,P=$[0],U=0;U<$.length;U++){var J=$[U],ne=Be(J),M=It(J)===pt,Q=[ye,Ne].indexOf(ne)>=0,Z=Q?"width":"height",ee=Rt(e,{placement:J,boundary:d,rootBoundary:f,altBoundary:_,padding:c}),Y=Q?M?xe:be:M?Ne:ye;F[Z]>S[Z]&&(Y=Es(Y));var oe=Es(Y),ue=[];if(r&&ue.push(ee[ne]<=0),a&&ue.push(ee[Y]<=0,ee[oe]<=0),ue.every(function(ge){return ge})){P=J,N=!1;break}L.set(J,ue)}if(N)for(var me=O?3:1,X=function(ve){var we=$.find(function(Ge){var Ye=L.get(Ge);if(Ye)return Ye.slice(0,ve).every(function(yt){return yt})});if(we)return P=we,"break"},Ee=me;Ee>0;Ee--){var Ce=X(Ee);if(Ce==="break")break}e.placement!==P&&(e.modifiersData[n]._skip=!0,e.placement=P,e.reset=!0)}}const br={name:"flip",enabled:!0,phase:"main",fn:Fa,requiresIfExists:["offset"],data:{_skip:!1}};function Jn(s,e,t){return t===void 0&&(t={x:0,y:0}),{top:s.top-e.height-t.y,right:s.right-e.width+t.x,bottom:s.bottom-e.height+t.y,left:s.left-e.width-t.x}}function Qn(s){return[ye,xe,Ne,be].some(function(e){return s[e]>=0})}function Va(s){var e=s.state,t=s.name,n=e.rects.reference,o=e.rects.popper,r=e.modifiersData.preventOverflow,i=Rt(e,{elementContext:"reference"}),a=Rt(e,{altBoundary:!0}),l=Jn(i,n),c=Jn(a,o,r),d=Qn(l),f=Qn(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const Er={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Va};function Ha(s,e,t){var n=Be(s),o=[be,ye].indexOf(n)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:s})):t,i=r[0],a=r[1];return i=i||0,a=(a||0)*o,[be,xe].indexOf(n)>=0?{x:a,y:i}:{x:i,y:a}}function ja(s){var e=s.state,t=s.options,n=s.name,o=t.offset,r=o===void 0?[0,0]:o,i=An.reduce(function(d,f){return d[f]=Ha(f,e.rects,r),d},{}),a=i[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=i}const wr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ja};function Wa(s){var e=s.state,t=s.name;e.modifiersData[t]=yr({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Rn={name:"popperOffsets",enabled:!0,phase:"read",fn:Wa,data:{}};function Ua(s){return s==="x"?"y":"x"}function Ba(s){var e=s.state,t=s.options,n=s.name,o=t.mainAxis,r=o===void 0?!0:o,i=t.altAxis,a=i===void 0?!1:i,l=t.boundary,c=t.rootBoundary,d=t.altBoundary,f=t.padding,_=t.tether,p=_===void 0?!0:_,O=t.tetherOffset,T=O===void 0?0:O,y=Rt(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:d}),I=Be(e.placement),R=It(e.placement),E=!R,$=Nn(I),F=Ua($),S=e.modifiersData.popperOffsets,L=e.rects.reference,N=e.rects.popper,P=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,U=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),J=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ne={x:0,y:0};if(S){if(r){var M,Q=$==="y"?ye:be,Z=$==="y"?Ne:xe,ee=$==="y"?"height":"width",Y=S[$],oe=Y+y[Q],ue=Y-y[Z],me=p?-N[ee]/2:0,X=R===pt?L[ee]:N[ee],Ee=R===pt?-N[ee]:-L[ee],Ce=e.elements.arrow,ge=p&&Ce?On(Ce):{width:0,height:0},ve=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:pr(),we=ve[Q],Ge=ve[Z],Ye=qt(0,L[ee],ge[ee]),yt=E?L[ee]/2-me-Ye-we-U.mainAxis:X-Ye-we-U.mainAxis,js=E?-L[ee]/2+me+Ye+Ge+U.mainAxis:Ee+Ye+Ge+U.mainAxis,A=e.elements.arrow&&ts(e.elements.arrow),w=A?$==="y"?A.clientTop||0:A.clientLeft||0:0,m=(M=J==null?void 0:J[$])!=null?M:0,x=Y+yt-m-w,b=Y+js-m,V=qt(p?As(oe,x):oe,Y,p?ft(ue,b):ue);S[$]=V,ne[$]=V-Y}if(a){var K,pe=$==="x"?ye:be,de=$==="x"?Ne:xe,B=S[F],ie=F==="y"?"height":"width",ut=B+y[pe],bt=B-y[de],Ws=[ye,be].indexOf(I)!==-1,Wn=(K=J==null?void 0:J[F])!=null?K:0,Un=Ws?ut:B-L[ie]-N[ie]-Wn+U.altAxis,Bn=Ws?B+L[ie]+N[ie]-Wn-U.altAxis:bt,zn=p&&Ws?Ea(Un,B,Bn):qt(p?Un:ut,B,p?Bn:bt);S[F]=zn,ne[F]=zn-B}e.modifiersData[n]=ne}}const Tr={name:"preventOverflow",enabled:!0,phase:"main",fn:Ba,requiresIfExists:["offset"]};function za(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function Ka(s){return s===$e(s)||!Ie(s)?Dn(s):za(s)}function Ga(s){var e=s.getBoundingClientRect(),t=Dt(e.width)/s.offsetWidth||1,n=Dt(e.height)/s.offsetHeight||1;return t!==1||n!==1}function Ya(s,e,t){t===void 0&&(t=!1);var n=Ie(e),o=Ie(e)&&Ga(e),r=at(e),i=Lt(s,o,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&((Ke(e)!=="body"||In(r))&&(a=Ka(e)),Ie(e)?(l=Lt(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=Ln(r))),{x:i.left+a.scrollLeft-l.x,y:i.top+a.scrollTop-l.y,width:i.width,height:i.height}}function qa(s){var e=new Map,t=new Set,n=[];s.forEach(function(r){e.set(r.name,r)});function o(r){t.add(r.name);var i=[].concat(r.requires||[],r.requiresIfExists||[]);i.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&o(l)}}),n.push(r)}return s.forEach(function(r){t.has(r.name)||o(r)}),n}function Xa(s){var e=qa(s);return dr.reduce(function(t,n){return t.concat(e.filter(function(o){return o.phase===n}))},[])}function Ja(s){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(s())})})),e}}function Qa(s){var e=s.reduce(function(t,n){var o=t[n.name];return t[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var Zn={placement:"bottom",modifiers:[],strategy:"absolute"};function eo(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Ls(s){s===void 0&&(s={});var e=s,t=e.defaultModifiers,n=t===void 0?[]:t,o=e.defaultOptions,r=o===void 0?Zn:o;return function(a,l,c){c===void 0&&(c=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zn,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],_=!1,p={state:d,setOptions:function(I){var R=typeof I=="function"?I(d.options):I;T(),d.options=Object.assign({},r,d.options,R),d.scrollParents={reference:vt(a)?Xt(a):a.contextElement?Xt(a.contextElement):[],popper:Xt(l)};var E=Xa(Qa([].concat(n,d.options.modifiers)));return d.orderedModifiers=E.filter(function($){return $.enabled}),O(),p.update()},forceUpdate:function(){if(!_){var I=d.elements,R=I.reference,E=I.popper;if(eo(R,E)){d.rects={reference:Ya(R,ts(E),d.options.strategy==="fixed"),popper:On(E)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(U){return d.modifiersData[U.name]=Object.assign({},U.data)});for(var $=0;$<d.orderedModifiers.length;$++){if(d.reset===!0){d.reset=!1,$=-1;continue}var F=d.orderedModifiers[$],S=F.fn,L=F.options,N=L===void 0?{}:L,P=F.name;typeof S=="function"&&(d=S({state:d,options:N,name:P,instance:p})||d)}}}},update:Ja(function(){return new Promise(function(y){p.forceUpdate(),y(d)})}),destroy:function(){T(),_=!0}};if(!eo(a,l))return p;p.setOptions(c).then(function(y){!_&&c.onFirstUpdate&&c.onFirstUpdate(y)});function O(){d.orderedModifiers.forEach(function(y){var I=y.name,R=y.options,E=R===void 0?{}:R,$=y.effect;if(typeof $=="function"){var F=$({state:d,name:I,instance:p,options:E}),S=function(){};f.push(F||S)}})}function T(){f.forEach(function(y){return y()}),f=[]}return p}}var Za=Ls(),el=[$n,Rn,xn,Cn],tl=Ls({defaultModifiers:el}),sl=[$n,Rn,xn,Cn,wr,br,Tr,mr,Er],Pn=Ls({defaultModifiers:sl});const Sr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ar,afterRead:or,afterWrite:ur,applyStyles:Cn,arrow:mr,auto:$s,basePlacements:Ht,beforeMain:rr,beforeRead:sr,beforeWrite:lr,bottom:Ne,clippingParents:er,computeStyles:xn,createPopper:Pn,createPopperBase:Za,createPopperLite:tl,detectOverflow:Rt,end:$t,eventListeners:$n,flip:br,hide:Er,left:be,main:ir,modifierPhases:dr,offset:wr,placements:An,popper:kt,popperGenerator:Ls,popperOffsets:Rn,preventOverflow:Tr,read:nr,reference:tr,right:xe,start:pt,top:ye,variationPlacements:fn,viewport:Sn,write:cr},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const tt=new Map,zs={set(s,e,t){tt.has(s)||tt.set(s,new Map);const n=tt.get(s);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,t)},get(s,e){return tt.has(s)&&tt.get(s).get(e)||null},remove(s,e){if(!tt.has(s))return;const t=tt.get(s);t.delete(e),t.size===0&&tt.delete(s)}},nl=1e6,ol=1e3,hn="transitionend",Ar=s=>(s&&window.CSS&&window.CSS.escape&&(s=s.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),s),rl=s=>s==null?`${s}`:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase(),il=s=>{do s+=Math.floor(Math.random()*nl);while(document.getElementById(s));return s},al=s=>{if(!s)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(s);const n=Number.parseFloat(e),o=Number.parseFloat(t);return!n&&!o?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*ol)},kr=s=>{s.dispatchEvent(new Event(hn))},Je=s=>!s||typeof s!="object"?!1:(typeof s.jquery<"u"&&(s=s[0]),typeof s.nodeType<"u"),ot=s=>Je(s)?s.jquery?s[0]:s:typeof s=="string"&&s.length>0?document.querySelector(Ar(s)):null,jt=s=>{if(!Je(s)||s.getClientRects().length===0)return!1;const e=getComputedStyle(s).getPropertyValue("visibility")==="visible",t=s.closest("details:not([open])");if(!t)return e;if(t!==s){const n=s.closest("summary");if(n&&n.parentNode!==t||n===null)return!1}return e},rt=s=>!s||s.nodeType!==Node.ELEMENT_NODE||s.classList.contains("disabled")?!0:typeof s.disabled<"u"?s.disabled:s.hasAttribute("disabled")&&s.getAttribute("disabled")!=="false",Cr=s=>{if(!document.documentElement.attachShadow)return null;if(typeof s.getRootNode=="function"){const e=s.getRootNode();return e instanceof ShadowRoot?e:null}return s instanceof ShadowRoot?s:s.parentNode?Cr(s.parentNode):null},ks=()=>{},ss=s=>{s.offsetHeight},Or=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ks=[],ll=s=>{document.readyState==="loading"?(Ks.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Ks)e()}),Ks.push(s)):s()},Pe=()=>document.documentElement.dir==="rtl",Fe=s=>{ll(()=>{const e=Or();if(e){const t=s.NAME,n=e.fn[t];e.fn[t]=s.jQueryInterface,e.fn[t].Constructor=s,e.fn[t].noConflict=()=>(e.fn[t]=n,s.jQueryInterface)}})},ke=(s,e=[],t=s)=>typeof s=="function"?s(...e):t,Nr=(s,e,t=!0)=>{if(!t){ke(s);return}const n=5,o=al(e)+n;let r=!1;const i=({target:a})=>{a===e&&(r=!0,e.removeEventListener(hn,i),ke(s))};e.addEventListener(hn,i),setTimeout(()=>{r||kr(e)},o)},Mn=(s,e,t,n)=>{const o=s.length;let r=s.indexOf(e);return r===-1?!t&&n?s[o-1]:s[0]:(r+=t?1:-1,n&&(r=(r+o)%o),s[Math.max(0,Math.min(r,o-1))])},cl=/[^.]*(?=\..*)\.|.*/,ul=/\..*/,dl=/::\d+$/,Gs={};let to=1;const xr={mouseenter:"mouseover",mouseleave:"mouseout"},_l=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function $r(s,e){return e&&`${e}::${to++}`||s.uidEvent||to++}function Dr(s){const e=$r(s);return s.uidEvent=e,Gs[e]=Gs[e]||{},Gs[e]}function fl(s,e){return function t(n){return Fn(n,{delegateTarget:s}),t.oneOff&&C.off(s,n.type,e),e.apply(s,[n])}}function pl(s,e,t){return function n(o){const r=s.querySelectorAll(e);for(let{target:i}=o;i&&i!==this;i=i.parentNode)for(const a of r)if(a===i)return Fn(o,{delegateTarget:i}),n.oneOff&&C.off(s,o.type,e,t),t.apply(i,[o])}}function Lr(s,e,t=null){return Object.values(s).find(n=>n.callable===e&&n.delegationSelector===t)}function Ir(s,e,t){const n=typeof e=="string",o=n?t:e||t;let r=Rr(s);return _l.has(r)||(r=s),[n,o,r]}function so(s,e,t,n,o){if(typeof e!="string"||!s)return;let[r,i,a]=Ir(e,t,n);e in xr&&(i=(O=>function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return O.call(this,T)})(i));const l=Dr(s),c=l[a]||(l[a]={}),d=Lr(c,i,r?t:null);if(d){d.oneOff=d.oneOff&&o;return}const f=$r(i,e.replace(cl,"")),_=r?pl(s,t,i):fl(s,i);_.delegationSelector=r?t:null,_.callable=i,_.oneOff=o,_.uidEvent=f,c[f]=_,s.addEventListener(a,_,r)}function mn(s,e,t,n,o){const r=Lr(e[t],n,o);r&&(s.removeEventListener(t,r,!!o),delete e[t][r.uidEvent])}function vl(s,e,t,n){const o=e[t]||{};for(const[r,i]of Object.entries(o))r.includes(n)&&mn(s,e,t,i.callable,i.delegationSelector)}function Rr(s){return s=s.replace(ul,""),xr[s]||s}const C={on(s,e,t,n){so(s,e,t,n,!1)},one(s,e,t,n){so(s,e,t,n,!0)},off(s,e,t,n){if(typeof e!="string"||!s)return;const[o,r,i]=Ir(e,t,n),a=i!==e,l=Dr(s),c=l[i]||{},d=e.startsWith(".");if(typeof r<"u"){if(!Object.keys(c).length)return;mn(s,l,i,r,o?t:null);return}if(d)for(const f of Object.keys(l))vl(s,l,f,e.slice(1));for(const[f,_]of Object.entries(c)){const p=f.replace(dl,"");(!a||e.includes(p))&&mn(s,l,i,_.callable,_.delegationSelector)}},trigger(s,e,t){if(typeof e!="string"||!s)return null;const n=Or(),o=Rr(e),r=e!==o;let i=null,a=!0,l=!0,c=!1;r&&n&&(i=n.Event(e,t),n(s).trigger(i),a=!i.isPropagationStopped(),l=!i.isImmediatePropagationStopped(),c=i.isDefaultPrevented());const d=Fn(new Event(e,{bubbles:a,cancelable:!0}),t);return c&&d.preventDefault(),l&&s.dispatchEvent(d),d.defaultPrevented&&i&&i.preventDefault(),d}};function Fn(s,e={}){for(const[t,n]of Object.entries(e))try{s[t]=n}catch{Object.defineProperty(s,t,{configurable:!0,get(){return n}})}return s}function no(s){if(s==="true")return!0;if(s==="false")return!1;if(s===Number(s).toString())return Number(s);if(s===""||s==="null")return null;if(typeof s!="string")return s;try{return JSON.parse(decodeURIComponent(s))}catch{return s}}function Ys(s){return s.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Qe={setDataAttribute(s,e,t){s.setAttribute(`data-bs-${Ys(e)}`,t)},removeDataAttribute(s,e){s.removeAttribute(`data-bs-${Ys(e)}`)},getDataAttributes(s){if(!s)return{};const e={},t=Object.keys(s.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of t){let o=n.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=no(s.dataset[n])}return e},getDataAttribute(s,e){return no(s.getAttribute(`data-bs-${Ys(e)}`))}};class ns{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=Je(t)?Qe.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...Je(t)?Qe.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,o]of Object.entries(t)){const r=e[n],i=Je(r)?"element":rl(r);if(!new RegExp(o).test(i))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${i}" but expected type "${o}".`)}}}const hl="5.3.2";class je extends ns{constructor(e,t){super(),e=ot(e),e&&(this._element=e,this._config=this._getConfig(t),zs.set(this._element,this.constructor.DATA_KEY,this))}dispose(){zs.remove(this._element,this.constructor.DATA_KEY),C.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){Nr(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return zs.get(ot(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return hl}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const qs=s=>{let e=s.getAttribute("data-bs-target");if(!e||e==="#"){let t=s.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?Ar(t.trim()):null}return e},W={find(s,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,s))},findOne(s,e=document.documentElement){return Element.prototype.querySelector.call(e,s)},children(s,e){return[].concat(...s.children).filter(t=>t.matches(e))},parents(s,e){const t=[];let n=s.parentNode.closest(e);for(;n;)t.push(n),n=n.parentNode.closest(e);return t},prev(s,e){let t=s.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(s,e){let t=s.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(s){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,s).filter(t=>!rt(t)&&jt(t))},getSelectorFromElement(s){const e=qs(s);return e&&W.findOne(e)?e:null},getElementFromSelector(s){const e=qs(s);return e?W.findOne(e):null},getMultipleElementsFromSelector(s){const e=qs(s);return e?W.find(e):[]}},Is=(s,e="hide")=>{const t=`click.dismiss${s.EVENT_KEY}`,n=s.NAME;C.on(document,t,`[data-bs-dismiss="${n}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),rt(this))return;const r=W.getElementFromSelector(this)||this.closest(`.${n}`);s.getOrCreateInstance(r)[e]()})},ml="alert",gl="bs.alert",Pr=`.${gl}`,yl=`close${Pr}`,bl=`closed${Pr}`,El="fade",wl="show";class Rs extends je{static get NAME(){return ml}close(){if(C.trigger(this._element,yl).defaultPrevented)return;this._element.classList.remove(wl);const t=this._element.classList.contains(El);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),C.trigger(this._element,bl),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=Rs.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Is(Rs,"close");Fe(Rs);const Tl="button",Sl="bs.button",Al=`.${Sl}`,kl=".data-api",Cl="active",oo='[data-bs-toggle="button"]',Ol=`click${Al}${kl}`;class Ps extends je{static get NAME(){return Tl}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Cl))}static jQueryInterface(e){return this.each(function(){const t=Ps.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}C.on(document,Ol,oo,s=>{s.preventDefault();const e=s.target.closest(oo);Ps.getOrCreateInstance(e).toggle()});Fe(Ps);const Nl="swipe",Wt=".bs.swipe",xl=`touchstart${Wt}`,$l=`touchmove${Wt}`,Dl=`touchend${Wt}`,Ll=`pointerdown${Wt}`,Il=`pointerup${Wt}`,Rl="touch",Pl="pen",Ml="pointer-event",Fl=40,Vl={endCallback:null,leftCallback:null,rightCallback:null},Hl={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Cs extends ns{constructor(e,t){super(),this._element=e,!(!e||!Cs.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Vl}static get DefaultType(){return Hl}static get NAME(){return Nl}dispose(){C.off(this._element,Wt)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),ke(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Fl)return;const t=e/this._deltaX;this._deltaX=0,t&&ke(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(C.on(this._element,Ll,e=>this._start(e)),C.on(this._element,Il,e=>this._end(e)),this._element.classList.add(Ml)):(C.on(this._element,xl,e=>this._start(e)),C.on(this._element,$l,e=>this._move(e)),C.on(this._element,Dl,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Pl||e.pointerType===Rl)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const jl="carousel",Wl="bs.carousel",lt=`.${Wl}`,Mr=".data-api",Ul="ArrowLeft",Bl="ArrowRight",zl=500,zt="next",Et="prev",Ct="left",ws="right",Kl=`slide${lt}`,Xs=`slid${lt}`,Gl=`keydown${lt}`,Yl=`mouseenter${lt}`,ql=`mouseleave${lt}`,Xl=`dragstart${lt}`,Jl=`load${lt}${Mr}`,Ql=`click${lt}${Mr}`,Fr="carousel",_s="active",Zl="slide",ec="carousel-item-end",tc="carousel-item-start",sc="carousel-item-next",nc="carousel-item-prev",Vr=".active",Hr=".carousel-item",oc=Vr+Hr,rc=".carousel-item img",ic=".carousel-indicators",ac="[data-bs-slide], [data-bs-slide-to]",lc='[data-bs-ride="carousel"]',cc={[Ul]:ws,[Bl]:Ct},uc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},dc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class os extends je{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=W.findOne(ic,this._element),this._addEventListeners(),this._config.ride===Fr&&this.cycle()}static get Default(){return uc}static get DefaultType(){return dc}static get NAME(){return jl}next(){this._slide(zt)}nextWhenVisible(){!document.hidden&&jt(this._element)&&this.next()}prev(){this._slide(Et)}pause(){this._isSliding&&kr(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){C.one(this._element,Xs,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){C.one(this._element,Xs,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const o=e>n?zt:Et;this._slide(o,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&C.on(this._element,Gl,e=>this._keydown(e)),this._config.pause==="hover"&&(C.on(this._element,Yl,()=>this.pause()),C.on(this._element,ql,()=>this._maybeEnableCycle())),this._config.touch&&Cs.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of W.find(rc,this._element))C.on(n,Xl,o=>o.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Ct)),rightCallback:()=>this._slide(this._directionToOrder(ws)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),zl+this._config.interval))}};this._swipeHelper=new Cs(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=cc[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=W.findOne(Vr,this._indicatorsElement);t.classList.remove(_s),t.removeAttribute("aria-current");const n=W.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(_s),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),o=e===zt,r=t||Mn(this._getItems(),n,o,this._config.wrap);if(r===n)return;const i=this._getItemIndex(r),a=p=>C.trigger(this._element,p,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:i});if(a(Kl).defaultPrevented||!n||!r)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(i),this._activeElement=r;const d=o?tc:ec,f=o?sc:nc;r.classList.add(f),ss(r),n.classList.add(d),r.classList.add(d);const _=()=>{r.classList.remove(d,f),r.classList.add(_s),n.classList.remove(_s,f,d),this._isSliding=!1,a(Xs)};this._queueCallback(_,n,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(Zl)}_getActive(){return W.findOne(oc,this._element)}_getItems(){return W.find(Hr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Pe()?e===Ct?Et:zt:e===Ct?zt:Et}_orderToDirection(e){return Pe()?e===Et?Ct:ws:e===Et?ws:Ct}static jQueryInterface(e){return this.each(function(){const t=os.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}C.on(document,Ql,ac,function(s){const e=W.getElementFromSelector(this);if(!e||!e.classList.contains(Fr))return;s.preventDefault();const t=os.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){t.to(n),t._maybeEnableCycle();return}if(Qe.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});C.on(window,Jl,()=>{const s=W.find(lc);for(const e of s)os.getOrCreateInstance(e)});Fe(os);const _c="collapse",fc="bs.collapse",rs=`.${fc}`,pc=".data-api",vc=`show${rs}`,hc=`shown${rs}`,mc=`hide${rs}`,gc=`hidden${rs}`,yc=`click${rs}${pc}`,Js="show",Nt="collapse",fs="collapsing",bc="collapsed",Ec=`:scope .${Nt} .${Nt}`,wc="collapse-horizontal",Tc="width",Sc="height",Ac=".collapse.show, .collapse.collapsing",gn='[data-bs-toggle="collapse"]',kc={parent:null,toggle:!0},Cc={parent:"(null|element)",toggle:"boolean"};class Zt extends je{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=W.find(gn);for(const o of n){const r=W.getSelectorFromElement(o),i=W.find(r).filter(a=>a===this._element);r!==null&&i.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return kc}static get DefaultType(){return Cc}static get NAME(){return _c}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Ac).filter(a=>a!==this._element).map(a=>Zt.getOrCreateInstance(a,{toggle:!1}))),e.length&&e[0]._isTransitioning||C.trigger(this._element,vc).defaultPrevented)return;for(const a of e)a.hide();const n=this._getDimension();this._element.classList.remove(Nt),this._element.classList.add(fs),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(fs),this._element.classList.add(Nt,Js),this._element.style[n]="",C.trigger(this._element,hc)},i=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[n]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown()||C.trigger(this._element,mc).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,ss(this._element),this._element.classList.add(fs),this._element.classList.remove(Nt,Js);for(const o of this._triggerArray){const r=W.getElementFromSelector(o);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(fs),this._element.classList.add(Nt),C.trigger(this._element,gc)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Js)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=ot(e.parent),e}_getDimension(){return this._element.classList.contains(wc)?Tc:Sc}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(gn);for(const t of e){const n=W.getElementFromSelector(t);n&&this._addAriaAndCollapsedClass([t],this._isShown(n))}}_getFirstLevelChildren(e){const t=W.find(Ec,this._config.parent);return W.find(e,this._config.parent).filter(n=>!t.includes(n))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle(bc,!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const n=Zt.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}C.on(document,yc,gn,function(s){(s.target.tagName==="A"||s.delegateTarget&&s.delegateTarget.tagName==="A")&&s.preventDefault();for(const e of W.getMultipleElementsFromSelector(this))Zt.getOrCreateInstance(e,{toggle:!1}).toggle()});Fe(Zt);const ro="dropdown",Oc="bs.dropdown",ht=`.${Oc}`,Vn=".data-api",Nc="Escape",io="Tab",xc="ArrowUp",ao="ArrowDown",$c=2,Dc=`hide${ht}`,Lc=`hidden${ht}`,Ic=`show${ht}`,Rc=`shown${ht}`,jr=`click${ht}${Vn}`,Wr=`keydown${ht}${Vn}`,Pc=`keyup${ht}${Vn}`,Ot="show",Mc="dropup",Fc="dropend",Vc="dropstart",Hc="dropup-center",jc="dropdown-center",dt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Wc=`${dt}.${Ot}`,Ts=".dropdown-menu",Uc=".navbar",Bc=".navbar-nav",zc=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Kc=Pe()?"top-end":"top-start",Gc=Pe()?"top-start":"top-end",Yc=Pe()?"bottom-end":"bottom-start",qc=Pe()?"bottom-start":"bottom-end",Xc=Pe()?"left-start":"right-start",Jc=Pe()?"right-start":"left-start",Qc="top",Zc="bottom",eu={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},tu={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ze extends je{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=W.next(this._element,Ts)[0]||W.prev(this._element,Ts)[0]||W.findOne(Ts,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return eu}static get DefaultType(){return tu}static get NAME(){return ro}toggle(){return this._isShown()?this.hide():this.show()}show(){if(rt(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!C.trigger(this._element,Ic,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Bc))for(const n of[].concat(...document.body.children))C.on(n,"mouseover",ks);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ot),this._element.classList.add(Ot),C.trigger(this._element,Rc,e)}}hide(){if(rt(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!C.trigger(this._element,Dc,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))C.off(n,"mouseover",ks);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ot),this._element.classList.remove(Ot),this._element.setAttribute("aria-expanded","false"),Qe.removeDataAttribute(this._menu,"popper"),C.trigger(this._element,Lc,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Je(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${ro.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Sr>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Je(this._config.reference)?e=ot(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Pn(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Ot)}_getPlacement(){const e=this._parent;if(e.classList.contains(Fc))return Xc;if(e.classList.contains(Vc))return Jc;if(e.classList.contains(Hc))return Qc;if(e.classList.contains(jc))return Zc;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Mc)?t?Gc:Kc:t?qc:Yc}_detectNavbar(){return this._element.closest(Uc)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Qe.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...ke(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=W.find(zc,this._menu).filter(o=>jt(o));n.length&&Mn(n,t,e===ao,!n.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=ze.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===$c||e.type==="keyup"&&e.key!==io)return;const t=W.find(Wc);for(const n of t){const o=ze.getInstance(n);if(!o||o._config.autoClose===!1)continue;const r=e.composedPath(),i=r.includes(o._menu);if(r.includes(o._element)||o._config.autoClose==="inside"&&!i||o._config.autoClose==="outside"&&i||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===io||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:o._element};e.type==="click"&&(a.clickEvent=e),o._completeHide(a)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n=e.key===Nc,o=[xc,ao].includes(e.key);if(!o&&!n||t&&!n)return;e.preventDefault();const r=this.matches(dt)?this:W.prev(this,dt)[0]||W.next(this,dt)[0]||W.findOne(dt,e.delegateTarget.parentNode),i=ze.getOrCreateInstance(r);if(o){e.stopPropagation(),i.show(),i._selectMenuItem(e);return}i._isShown()&&(e.stopPropagation(),i.hide(),r.focus())}}C.on(document,Wr,dt,ze.dataApiKeydownHandler);C.on(document,Wr,Ts,ze.dataApiKeydownHandler);C.on(document,jr,ze.clearMenus);C.on(document,Pc,ze.clearMenus);C.on(document,jr,dt,function(s){s.preventDefault(),ze.getOrCreateInstance(this).toggle()});Fe(ze);const Ur="backdrop",su="fade",lo="show",co=`mousedown.bs.${Ur}`,nu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ou={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Br extends ns{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return nu}static get DefaultType(){return ou}static get NAME(){return Ur}show(e){if(!this._config.isVisible){ke(e);return}this._append();const t=this._getElement();this._config.isAnimated&&ss(t),t.classList.add(lo),this._emulateAnimation(()=>{ke(e)})}hide(e){if(!this._config.isVisible){ke(e);return}this._getElement().classList.remove(lo),this._emulateAnimation(()=>{this.dispose(),ke(e)})}dispose(){this._isAppended&&(C.off(this._element,co),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(su),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=ot(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),C.on(e,co,()=>{ke(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Nr(e,this._getElement(),this._config.isAnimated)}}const ru="focustrap",iu="bs.focustrap",Os=`.${iu}`,au=`focusin${Os}`,lu=`keydown.tab${Os}`,cu="Tab",uu="forward",uo="backward",du={autofocus:!0,trapElement:null},_u={autofocus:"boolean",trapElement:"element"};class zr extends ns{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return du}static get DefaultType(){return _u}static get NAME(){return ru}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),C.off(document,Os),C.on(document,au,e=>this._handleFocusin(e)),C.on(document,lu,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,C.off(document,Os))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=W.focusableChildren(t);n.length===0?t.focus():this._lastTabNavDirection===uo?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===cu&&(this._lastTabNavDirection=e.shiftKey?uo:uu)}}const _o=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",fo=".sticky-top",ps="padding-right",po="margin-right";class yn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ps,t=>t+e),this._setElementAttributes(_o,ps,t=>t+e),this._setElementAttributes(fo,po,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ps),this._resetElementAttributes(_o,ps),this._resetElementAttributes(fo,po)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const o=this.getWidth(),r=i=>{if(i!==this._element&&window.innerWidth>i.clientWidth+o)return;this._saveInitialAttribute(i,t);const a=window.getComputedStyle(i).getPropertyValue(t);i.style.setProperty(t,`${n(Number.parseFloat(a))}px`)};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&Qe.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=o=>{const r=Qe.getDataAttribute(o,t);if(r===null){o.style.removeProperty(t);return}Qe.removeDataAttribute(o,t),o.style.setProperty(t,r)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){if(Je(e)){t(e);return}for(const n of W.find(e,this._element))t(n)}}const fu="modal",pu="bs.modal",Me=`.${pu}`,vu=".data-api",hu="Escape",mu=`hide${Me}`,gu=`hidePrevented${Me}`,Kr=`hidden${Me}`,Gr=`show${Me}`,yu=`shown${Me}`,bu=`resize${Me}`,Eu=`click.dismiss${Me}`,wu=`mousedown.dismiss${Me}`,Tu=`keydown.dismiss${Me}`,Su=`click${Me}${vu}`,vo="modal-open",Au="fade",ho="show",Qs="modal-static",ku=".modal.show",Cu=".modal-dialog",Ou=".modal-body",Nu='[data-bs-toggle="modal"]',xu={backdrop:!0,focus:!0,keyboard:!0},$u={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Pt extends je{constructor(e,t){super(e,t),this._dialog=W.findOne(Cu,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new yn,this._addEventListeners()}static get Default(){return xu}static get DefaultType(){return $u}static get NAME(){return fu}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||C.trigger(this._element,Gr,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(vo),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||C.trigger(this._element,mu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ho),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){C.off(window,Me),C.off(this._dialog,Me),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Br({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new zr({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=W.findOne(Ou,this._dialog);t&&(t.scrollTop=0),ss(this._element),this._element.classList.add(ho);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,C.trigger(this._element,yu,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){C.on(this._element,Tu,e=>{if(e.key===hu){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),C.on(window,bu,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),C.on(this._element,wu,e=>{C.one(this._element,Eu,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(vo),this._resetAdjustments(),this._scrollBar.reset(),C.trigger(this._element,Kr)})}_isAnimated(){return this._element.classList.contains(Au)}_triggerBackdropTransition(){if(C.trigger(this._element,gu).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(Qs)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Qs),this._queueCallback(()=>{this._element.classList.remove(Qs),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const o=Pe()?"paddingLeft":"paddingRight";this._element.style[o]=`${t}px`}if(!n&&e){const o=Pe()?"paddingRight":"paddingLeft";this._element.style[o]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const n=Pt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](t)}})}}C.on(document,Su,Nu,function(s){const e=W.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&s.preventDefault(),C.one(e,Gr,o=>{o.defaultPrevented||C.one(e,Kr,()=>{jt(this)&&this.focus()})});const t=W.findOne(ku);t&&Pt.getInstance(t).hide(),Pt.getOrCreateInstance(e).toggle(this)});Is(Pt);Fe(Pt);const Du="offcanvas",Lu="bs.offcanvas",et=`.${Lu}`,Yr=".data-api",Iu=`load${et}${Yr}`,Ru="Escape",mo="show",go="showing",yo="hiding",Pu="offcanvas-backdrop",qr=".offcanvas.show",Mu=`show${et}`,Fu=`shown${et}`,Vu=`hide${et}`,bo=`hidePrevented${et}`,Xr=`hidden${et}`,Hu=`resize${et}`,ju=`click${et}${Yr}`,Wu=`keydown.dismiss${et}`,Uu='[data-bs-toggle="offcanvas"]',Bu={backdrop:!0,keyboard:!0,scroll:!1},zu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class it extends je{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Bu}static get DefaultType(){return zu}static get NAME(){return Du}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||C.trigger(this._element,Mu,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new yn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(go);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(mo),this._element.classList.remove(go),C.trigger(this._element,Fu,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||C.trigger(this._element,Vu).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(yo),this._backdrop.hide();const t=()=>{this._element.classList.remove(mo,yo),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new yn().reset(),C.trigger(this._element,Xr)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){C.trigger(this._element,bo);return}this.hide()},t=!!this._config.backdrop;return new Br({className:Pu,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new zr({trapElement:this._element})}_addEventListeners(){C.on(this._element,Wu,e=>{if(e.key===Ru){if(this._config.keyboard){this.hide();return}C.trigger(this._element,bo)}})}static jQueryInterface(e){return this.each(function(){const t=it.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}C.on(document,ju,Uu,function(s){const e=W.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),rt(this))return;C.one(e,Xr,()=>{jt(this)&&this.focus()});const t=W.findOne(qr);t&&t!==e&&it.getInstance(t).hide(),it.getOrCreateInstance(e).toggle(this)});C.on(window,Iu,()=>{for(const s of W.find(qr))it.getOrCreateInstance(s).show()});C.on(window,Hu,()=>{for(const s of W.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(s).position!=="fixed"&&it.getOrCreateInstance(s).hide()});Is(it);Fe(it);const Ku=/^aria-[\w-]*$/i,Jr={"*":["class","dir","id","lang","role",Ku],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Gu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Yu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,qu=(s,e)=>{const t=s.nodeName.toLowerCase();return e.includes(t)?Gu.has(t)?!!Yu.test(s.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(t))};function Xu(s,e,t){if(!s.length)return s;if(t&&typeof t=="function")return t(s);const o=new window.DOMParser().parseFromString(s,"text/html"),r=[].concat(...o.body.querySelectorAll("*"));for(const i of r){const a=i.nodeName.toLowerCase();if(!Object.keys(e).includes(a)){i.remove();continue}const l=[].concat(...i.attributes),c=[].concat(e["*"]||[],e[a]||[]);for(const d of l)qu(d,c)||i.removeAttribute(d.nodeName)}return o.body.innerHTML}const Ju="TemplateFactory",Qu={allowList:Jr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Zu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ed={entry:"(string|element|function|null)",selector:"(string|element)"};class td extends ns{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Qu}static get DefaultType(){return Zu}static get NAME(){return Ju}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,r]of Object.entries(this._config.content))this._setContent(e,r,o);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},ed)}_setContent(e,t,n){const o=W.findOne(n,e);if(o){if(t=this._resolvePossibleFunction(t),!t){o.remove();return}if(Je(t)){this._putElementInTemplate(ot(t),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(t);return}o.textContent=t}}_maybeSanitize(e){return this._config.sanitize?Xu(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return ke(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const sd="tooltip",nd=new Set(["sanitize","allowList","sanitizeFn"]),Zs="fade",od="modal",vs="show",rd=".tooltip-inner",Eo=`.${od}`,wo="hide.bs.modal",Kt="hover",en="focus",id="click",ad="manual",ld="hide",cd="hidden",ud="show",dd="shown",_d="inserted",fd="click",pd="focusin",vd="focusout",hd="mouseenter",md="mouseleave",gd={AUTO:"auto",TOP:"top",RIGHT:Pe()?"left":"right",BOTTOM:"bottom",LEFT:Pe()?"right":"left"},yd={allowList:Jr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},bd={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ut extends je{constructor(e,t){if(typeof Sr>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return yd}static get DefaultType(){return bd}static get NAME(){return sd}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),C.off(this._element.closest(Eo),wo,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=C.trigger(this._element,this.constructor.eventName(ud)),n=(Cr(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(o),C.trigger(this._element,this.constructor.eventName(_d))),this._popper=this._createPopper(o),o.classList.add(vs),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))C.on(a,"mouseover",ks);const i=()=>{C.trigger(this._element,this.constructor.eventName(dd)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(i,this.tip,this._isAnimated())}hide(){if(!this._isShown()||C.trigger(this._element,this.constructor.eventName(ld)).defaultPrevented)return;if(this._getTipElement().classList.remove(vs),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))C.off(o,"mouseover",ks);this._activeTrigger[id]=!1,this._activeTrigger[en]=!1,this._activeTrigger[Kt]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),C.trigger(this._element,this.constructor.eventName(cd)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Zs,vs),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=il(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(Zs),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new td({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[rd]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Zs)}_isShown(){return this.tip&&this.tip.classList.contains(vs)}_createPopper(e){const t=ke(this._config.placement,[this,e,this._element]),n=gd[t.toUpperCase()];return Pn(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return ke(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...t,...ke(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")C.on(this._element,this.constructor.eventName(fd),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(t!==ad){const n=t===Kt?this.constructor.eventName(hd):this.constructor.eventName(pd),o=t===Kt?this.constructor.eventName(md):this.constructor.eventName(vd);C.on(this._element,n,this._config.selector,r=>{const i=this._initializeOnDelegatedTarget(r);i._activeTrigger[r.type==="focusin"?en:Kt]=!0,i._enter()}),C.on(this._element,o,this._config.selector,r=>{const i=this._initializeOnDelegatedTarget(r);i._activeTrigger[r.type==="focusout"?en:Kt]=i._element.contains(r.relatedTarget),i._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},C.on(this._element.closest(Eo),wo,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Qe.getDataAttributes(this._element);for(const n of Object.keys(t))nd.has(n)&&delete t[n];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:ot(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Ut.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Fe(Ut);const Ed="popover",wd=".popover-header",Td=".popover-body",Sd={...Ut.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ad={...Ut.DefaultType,content:"(null|string|element|function)"};class Hn extends Ut{static get Default(){return Sd}static get DefaultType(){return Ad}static get NAME(){return Ed}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[wd]:this._getTitle(),[Td]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Hn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Fe(Hn);const kd="scrollspy",Cd="bs.scrollspy",jn=`.${Cd}`,Od=".data-api",Nd=`activate${jn}`,To=`click${jn}`,xd=`load${jn}${Od}`,$d="dropdown-item",wt="active",Dd='[data-bs-spy="scroll"]',tn="[href]",Ld=".nav, .list-group",So=".nav-link",Id=".nav-item",Rd=".list-group-item",Pd=`${So}, ${Id} > ${So}, ${Rd}`,Md=".dropdown",Fd=".dropdown-toggle",Vd={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Hd={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ms extends je{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Vd}static get DefaultType(){return Hd}static get NAME(){return kd}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=ot(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(C.off(this._config.target,To),C.on(this._config.target,To,tn,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:o,behavior:"smooth"});return}n.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=i=>this._targetLinks.get(`#${i.target.id}`),n=i=>{this._previousScrollData.visibleEntryTop=i.target.offsetTop,this._process(t(i))},o=(this._rootElement||document.documentElement).scrollTop,r=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const i of e){if(!i.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(i));continue}const a=i.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(n(i),!o)return;continue}!r&&!a&&n(i)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=W.find(tn,this._config.target);for(const t of e){if(!t.hash||rt(t))continue;const n=W.findOne(decodeURI(t.hash),this._element);jt(n)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(wt),this._activateParents(e),C.trigger(this._element,Nd,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains($d)){W.findOne(Fd,e.closest(Md)).classList.add(wt);return}for(const t of W.parents(e,Ld))for(const n of W.prev(t,Pd))n.classList.add(wt)}_clearActiveClass(e){e.classList.remove(wt);const t=W.find(`${tn}.${wt}`,e);for(const n of t)n.classList.remove(wt)}static jQueryInterface(e){return this.each(function(){const t=Ms.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}C.on(window,xd,()=>{for(const s of W.find(Dd))Ms.getOrCreateInstance(s)});Fe(Ms);const jd="tab",Wd="bs.tab",mt=`.${Wd}`,Ud=`hide${mt}`,Bd=`hidden${mt}`,zd=`show${mt}`,Kd=`shown${mt}`,Gd=`click${mt}`,Yd=`keydown${mt}`,qd=`load${mt}`,Xd="ArrowLeft",Ao="ArrowRight",Jd="ArrowUp",ko="ArrowDown",sn="Home",Co="End",_t="active",Oo="fade",nn="show",Qd="dropdown",Qr=".dropdown-toggle",Zd=".dropdown-menu",on=`:not(${Qr})`,e_='.list-group, .nav, [role="tablist"]',t_=".nav-item, .list-group-item",s_=`.nav-link${on}, .list-group-item${on}, [role="tab"]${on}`,Zr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',rn=`${s_}, ${Zr}`,n_=`.${_t}[data-bs-toggle="tab"], .${_t}[data-bs-toggle="pill"], .${_t}[data-bs-toggle="list"]`;class Mt extends je{constructor(e){super(e),this._parent=this._element.closest(e_),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),C.on(this._element,Yd,t=>this._keydown(t)))}static get NAME(){return jd}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?C.trigger(t,Ud,{relatedTarget:e}):null;C.trigger(e,zd,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(_t),this._activate(W.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(nn);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),C.trigger(e,Kd,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(Oo))}_deactivate(e,t){if(!e)return;e.classList.remove(_t),e.blur(),this._deactivate(W.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(nn);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),C.trigger(e,Bd,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(Oo))}_keydown(e){if(![Xd,Ao,Jd,ko,sn,Co].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(o=>!rt(o));let n;if([sn,Co].includes(e.key))n=t[e.key===sn?0:t.length-1];else{const o=[Ao,ko].includes(e.key);n=Mn(t,e.target,o,!0)}n&&(n.focus({preventScroll:!0}),Mt.getOrCreateInstance(n).show())}_getChildren(){return W.find(rn,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=W.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains(Qd))return;const o=(r,i)=>{const a=W.findOne(r,n);a&&a.classList.toggle(i,t)};o(Qr,_t),o(Zd,nn),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(_t)}_getInnerElement(e){return e.matches(rn)?e:W.findOne(rn,e)}_getOuterElement(e){return e.closest(t_)||e}static jQueryInterface(e){return this.each(function(){const t=Mt.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}C.on(document,Gd,Zr,function(s){["A","AREA"].includes(this.tagName)&&s.preventDefault(),!rt(this)&&Mt.getOrCreateInstance(this).show()});C.on(window,qd,()=>{for(const s of W.find(n_))Mt.getOrCreateInstance(s)});Fe(Mt);const o_="toast",r_="bs.toast",ct=`.${r_}`,i_=`mouseover${ct}`,a_=`mouseout${ct}`,l_=`focusin${ct}`,c_=`focusout${ct}`,u_=`hide${ct}`,d_=`hidden${ct}`,__=`show${ct}`,f_=`shown${ct}`,p_="fade",No="hide",hs="show",ms="showing",v_={animation:"boolean",autohide:"boolean",delay:"number"},h_={animation:!0,autohide:!0,delay:5e3};class Fs extends je{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return h_}static get DefaultType(){return v_}static get NAME(){return o_}show(){if(C.trigger(this._element,__).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(p_);const t=()=>{this._element.classList.remove(ms),C.trigger(this._element,f_),this._maybeScheduleHide()};this._element.classList.remove(No),ss(this._element),this._element.classList.add(hs,ms),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||C.trigger(this._element,u_).defaultPrevented)return;const t=()=>{this._element.classList.add(No),this._element.classList.remove(ms,hs),C.trigger(this._element,d_)};this._element.classList.add(ms),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(hs),super.dispose()}isShown(){return this._element.classList.contains(hs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){C.on(this._element,i_,e=>this._onInteraction(e,!0)),C.on(this._element,a_,e=>this._onInteraction(e,!1)),C.on(this._element,l_,e=>this._onInteraction(e,!0)),C.on(this._element,c_,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Fs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Is(Fs);Fe(Fs);var m_=!1;/*!
 * pinia v2.2.6
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let ei;const Vs=s=>ei=s,ti=Symbol();function bn(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var Jt;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(Jt||(Jt={}));function g_(){const s=Xo(!0),e=s.run(()=>v({}));let t=[],n=[];const o=Jo({install(r){Vs(o),o._a=r,r.provide(ti,o),r.config.globalProperties.$pinia=o,n.forEach(i=>t.push(i)),n=[]},use(r){return!this._a&&!m_?n.push(r):t.push(r),this},_p:t,_a:null,_e:s,_s:new Map,state:e});return o}const si=()=>{};function xo(s,e,t,n=si){s.push(e);const o=()=>{const r=s.indexOf(e);r>-1&&(s.splice(r,1),n())};return!t&&fi()&&pi(o),o}function Tt(s,...e){s.slice().forEach(t=>{t(...e)})}const y_=s=>s(),$o=Symbol(),an=Symbol();function En(s,e){s instanceof Map&&e instanceof Map?e.forEach((t,n)=>s.set(n,t)):s instanceof Set&&e instanceof Set&&e.forEach(s.add,s);for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t],o=s[t];bn(o)&&bn(n)&&s.hasOwnProperty(t)&&!Ss(n)&&!Qo(n)?s[t]=En(o,n):s[t]=n}return s}const b_=Symbol();function E_(s){return!bn(s)||!s.hasOwnProperty(b_)}const{assign:nt}=Object;function w_(s){return!!(Ss(s)&&s.effect)}function T_(s,e,t,n){const{state:o,actions:r,getters:i}=e,a=t.state.value[s];let l;function c(){a||(t.state.value[s]=o?o():{});const d=hi(t.state.value[s]);return nt(d,r,Object.keys(i||{}).reduce((f,_)=>(f[_]=Jo(re(()=>{Vs(t);const p=t._s.get(s);return i[_].call(p,p)})),f),{}))}return l=ni(s,c,e,t,n,!0),l}function ni(s,e,t={},n,o,r){let i;const a=nt({actions:{}},t),l={deep:!0};let c,d,f=[],_=[],p;const O=n.state.value[s];!r&&!O&&(n.state.value[s]={}),v({});let T;function y(N){let P;c=d=!1,typeof N=="function"?(N(n.state.value[s]),P={type:Jt.patchFunction,storeId:s,events:p}):(En(n.state.value[s],N),P={type:Jt.patchObject,payload:N,storeId:s,events:p});const U=T=Symbol();vi().then(()=>{T===U&&(c=!0)}),d=!0,Tt(f,P,n.state.value[s])}const I=r?function(){const{state:P}=t,U=P?P():{};this.$patch(J=>{nt(J,U)})}:si;function R(){i.stop(),f=[],_=[],n._s.delete(s)}const E=(N,P="")=>{if($o in N)return N[an]=P,N;const U=function(){Vs(n);const J=Array.from(arguments),ne=[],M=[];function Q(Y){ne.push(Y)}function Z(Y){M.push(Y)}Tt(_,{args:J,name:U[an],store:F,after:Q,onError:Z});let ee;try{ee=N.apply(this&&this.$id===s?this:F,J)}catch(Y){throw Tt(M,Y),Y}return ee instanceof Promise?ee.then(Y=>(Tt(ne,Y),Y)).catch(Y=>(Tt(M,Y),Promise.reject(Y))):(Tt(ne,ee),ee)};return U[$o]=!0,U[an]=P,U},$={_p:n,$id:s,$onAction:xo.bind(null,_),$patch:y,$reset:I,$subscribe(N,P={}){const U=xo(f,N,P.detached,()=>J()),J=i.run(()=>xs(()=>n.state.value[s],ne=>{(P.flush==="sync"?d:c)&&N({storeId:s,type:Jt.direct,events:p},ne)},nt({},l,P)));return U},$dispose:R},F=ui($);n._s.set(s,F);const L=(n._a&&n._a.runWithContext||y_)(()=>n._e.run(()=>(i=Xo()).run(()=>e({action:E}))));for(const N in L){const P=L[N];if(Ss(P)&&!w_(P)||Qo(P))r||(O&&E_(P)&&(Ss(P)?P.value=O[N]:En(P,O[N])),n.state.value[s][N]=P);else if(typeof P=="function"){const U=E(P,N);L[N]=U,a.actions[N]=P}}return nt(F,L),nt(di(F),L),Object.defineProperty(F,"$state",{get:()=>n.state.value[s],set:N=>{y(P=>{nt(P,N)})}}),n._p.forEach(N=>{nt(F,i.run(()=>N({store:F,app:n._a,pinia:n,options:a})))}),O&&r&&t.hydrate&&t.hydrate(F.$state,O),c=!0,d=!0,F}/*! #__NO_SIDE_EFFECTS__ */function Bt(s,e,t){let n,o;const r=typeof e=="function";typeof s=="string"?(n=s,o=r?t:e):(o=s,n=s.id);function i(a,l){const c=_i();return a=a||(c?ci(ti,null):null),a&&Vs(a),a=ei,a._s.has(n)||(r?ni(n,e,o,a):T_(n,o,a)),a._s.get(n)}return i.$id=n,i}function S_(s){return typeof s=="object"&&s!==null}function Do(s,e){return s=S_(s)?s:Object.create(null),new Proxy(s,{get(t,n,o){return n==="key"?Reflect.get(t,n,o):Reflect.get(t,n,o)||Reflect.get(e,n,o)}})}function A_(s,e){return e.reduce((t,n)=>t==null?void 0:t[n],s)}function k_(s,e,t){return e.slice(0,-1).reduce((n,o)=>/^(__proto__)$/.test(o)?{}:n[o]=n[o]||{},s)[e[e.length-1]]=t,s}function C_(s,e){return e.reduce((t,n)=>{const o=n.split(".");return k_(t,o,A_(s,o))},{})}function O_(s,e){return t=>{var n;try{const{storage:o=localStorage,beforeRestore:r=void 0,afterRestore:i=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:l=e.$id,paths:c=null,debug:d=!1}=t;return{storage:o,beforeRestore:r,afterRestore:i,serializer:a,key:((n=s.key)!=null?n:f=>f)(typeof l=="string"?l:l(e.$id)),paths:c,debug:d}}catch(o){return t.debug&&console.error("[pinia-plugin-persistedstate]",o),null}}}function Lo(s,{storage:e,serializer:t,key:n,debug:o}){try{const r=e==null?void 0:e.getItem(n);r&&s.$patch(t==null?void 0:t.deserialize(r))}catch(r){o&&console.error("[pinia-plugin-persistedstate]",r)}}function Io(s,{storage:e,serializer:t,key:n,paths:o,debug:r}){try{const i=Array.isArray(o)?C_(s,o):s;e.setItem(n,t.serialize(i))}catch(i){r&&console.error("[pinia-plugin-persistedstate]",i)}}function N_(s={}){return e=>{const{auto:t=!1}=s,{options:{persist:n=t},store:o,pinia:r}=e;if(!n)return;if(!(o.$id in r.state.value)){const a=r._s.get(o.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const i=(Array.isArray(n)?n.map(a=>Do(a,s)):[Do(n,s)]).map(O_(s,o)).filter(Boolean);o.$persist=()=>{i.forEach(a=>{Io(o.$state,a)})},o.$hydrate=({runHooks:a=!0}={})=>{i.forEach(l=>{const{beforeRestore:c,afterRestore:d}=l;a&&(c==null||c(e)),Lo(o,l),a&&(d==null||d(e))})},i.forEach(a=>{const{beforeRestore:l,afterRestore:c}=a;l==null||l(e),Lo(o,a),c==null||c(e),o.$subscribe((d,f)=>{Io(f,a)},{detached:!0})})}}var x_=N_(),He=(s=>(s[s.MESSAGE=0]="MESSAGE",s[s.REQUEST=1]="REQUEST",s[s.RESPONSE=2]="RESPONSE",s[s.GOAL=3]="GOAL",s[s.FEEDBACK=4]="FEEDBACK",s[s.RESULT=5]="RESULT",s))(He||{}),Xe=(s=>(s.FILE="file",s.DIR="directory",s))(Xe||{}),Te=(s=>(s.INPUT="inputs",s.OUTPUT="outputs",s.OTHER="other",s))(Te||{}),G=(s=>(s.TOP="top",s.BOTTOM="bottom",s.LEFT="left",s.RIGHT="right",s.CENTER="center",s))(G||{});const is=Bt("messages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,keys:["msg"],isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=v([]),t=v(new Ue([],s)),n=v(!1);let o=structuredClone(s);o.keys=[];const r=v(new Ue([],o)),i=v(new Ue([],o)),a=v(new Ue([],o));function l(_){n.value=_}function c(_){const p=_.msg.split("/");if(p.length!==3)return[];if(_.service){const O=p[0]+".srv."+p[2];return[{msg:O,service:!0,action:!1,type:He.MESSAGE},{msg:O+".Request",service:!0,action:!1,type:He.REQUEST},{msg:O+".Response",service:!0,action:!1,type:He.RESPONSE}]}if(_.action){const O=p[0]+".action."+p[2];return[{msg:O,action:!0,service:!1,type:He.MESSAGE},{msg:O+".Goal",action:!0,service:!1,type:He.GOAL},{msg:O+".Result",action:!0,service:!1,type:He.RESULT},{msg:O+".Feedback",action:!0,service:!1,type:He.FEEDBACK}]}return[{msg:p[0]+".msg."+p[2],service:!1,action:!1,type:He.MESSAGE}]}function d(){r.value.setCollection([]),i.value.setCollection([]),a.value.setCollection([]),e.value.forEach(_=>{if(_.msg.split(".").length>3){r.value.add(_.msg);return}if(_.service){i.value.add(_.msg);return}if(_.action){a.value.add(_.msg);return}r.value.add(_.msg)})}function f(_){e.value=_.flatMap(c),d(),t.value.setCollection(e.value)}return{messages:e,messages_fuse:t,messages_available:n,ros_msg_fuse:r,ros_srv_fuse:i,ros_action_fuse:a,areMessagesAvailable:l,updateAvailableMessages:f}}),Hs=Bt("packages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,keys:["package","path"],isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=v([]),t=v(new Ue([],s)),n=v(!1);function o(i){n.value=i}function r(i){e.value=i,t.value=new Ue(e.value,s)}return{packages:e,packages_fuse:t,packages_available:n,arePackagesAvailable:o,updateAvailablePackages:r}}),he=Bt("ros",()=>{const s=is(),e=Hs(),t=v(new H.Ros({})),n=re(()=>t.value.isConnected),o=v("ws://"+window.location.hostname+":9090"),r=v(""),i=v(["/"]),a=v(new H.Service({ros:t.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"})),l=v(new H.Service({ros:t.value,name:r.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"})),c=v(new H.Service({ros:t.value,name:r.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"})),d=v(new H.Service({ros:t.value,name:r.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"})),f=v(new H.Service({ros:t.value,name:r.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"})),_=v(new H.Service({ros:t.value,name:r.value+"add_node",serviceType:"ros_bt_py_interfaces/srv/AddNode"})),p=v(new H.Service({ros:t.value,name:r.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"})),O=v(new H.Topic({ros:t.value,name:r.value+"tree",messageType:"ros_bt_py_interfaces/msg/Tree",latch:!0,reconnect_on_close:!0})),T=v(new H.Topic({ros:t.value,name:r.value+"debug/subtree_info",messageType:"ros_bt_py_interfaces/msg/SubtreeInfo",latch:!0,reconnect_on_close:!0})),y=v(new H.Topic({ros:t.value,name:r.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0})),I=v(new H.Topic({ros:t.value,name:r.value+"messages",messageType:"ros_bt_py_interfaces/msg/Messages",latch:!0,reconnect_on_close:!0})),R=v(new H.Service({ros:t.value,name:r.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"})),E=v(new H.Service({ros:t.value,name:r.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"})),$=v(new H.Service({ros:t.value,name:r.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),F=v(new H.Service({ros:t.value,name:r.value+"remove_node",serviceType:"ros_bt_pt_interfaces/srv/RemoveNode"})),S=v(new H.Service({ros:t.value,name:r.value+"replace_node",serviceType:"ros_bt_pt_interfaces/srv/ReplaceNode"})),L=v(new H.Service({ros:t.value,name:r.value+"set_options",serviceType:"ros_bt_pt_interfaces/srv/SetOptions"})),N=v(new H.Service({ros:t.value,name:r.value+"morph_node",serviceType:"ros_bt_pt_interfaces/srv/MorphNode"})),P=v(new H.Service({ros:t.value,name:r.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"})),U=v(new H.Service({ros:t.value,name:r.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"})),J=v(new H.Service({ros:t.value,name:r.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),ne=v(new H.Service({ros:t.value,name:r.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"})),M=v(new H.Service({ros:t.value,name:r.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"})),Q=v(new H.Service({ros:t.value,name:r.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"})),Z=v(new H.Service({ros:t.value,name:r.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"})),ee=v(new H.Service({ros:t.value,name:r.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"})),Y=v(new H.Service({ros:t.value,name:r.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"})),oe=v(new H.Service({ros:t.value,name:r.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"}));t.value.on("connection",()=>{Ee()}),t.value.on("close",()=>{Ce()}),t.value.on("error",()=>{k({title:"ROS connection error!",type:"error"})});function ue(){O.value.unsubscribe(),O.value.removeAllListeners(),O.value=new H.Topic({ros:t.value,name:r.value+"tree",messageType:"ros_bt_py_interfaces/msg/Tree",latch:!0,reconnect_on_close:!0}),T.value.unsubscribe(),T.value.removeAllListeners(),T.value=new H.Topic({ros:t.value,name:r.value+"debug/subtree_info",messageType:"ros_bt_py_interfaces/msg/SubtreeInfo",latch:!0,reconnect_on_close:!0}),I.value.unsubscribe(),I.value.removeAllListeners(),I.value=new H.Topic({ros:t.value,name:r.value+"messages",messageType:"ros_bt_py_interfaces/msg/Messages",latch:!0,reconnect_on_close:!0}),y.value.unsubscribe(),y.value.removeAllListeners(),y.value=new H.Topic({ros:t.value,name:r.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0}),p.value=new H.Service({ros:t.value,name:r.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"}),a.value=new H.Service({ros:t.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),l.value=new H.Service({ros:t.value,name:r.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"}),c.value=new H.Service({ros:t.value,name:r.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"}),d.value=new H.Service({ros:t.value,name:r.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"}),f.value=new H.Service({ros:t.value,name:r.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"}),R.value=new H.Service({ros:t.value,name:r.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"}),_.value=new H.Service({ros:t.value,name:r.value+"add_node",serviceType:"ros_bt_py_interfaces/srv/AddNode"}),E.value=new H.Service({ros:t.value,name:r.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"}),$.value=new H.Service({ros:t.value,name:r.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),F.value=new H.Service({ros:t.value,name:r.value+"remove_node",serviceType:"ros_bt_py_interfaces/srv/RemoveNode"}),L.value=new H.Service({ros:t.value,name:r.value+"set_options",serviceType:"ros_bt_py_interfaces/srv/SetOptions"}),N.value=new H.Service({ros:t.value,name:r.value+"morph_node",serviceType:"ros_bt_py_interfaces/srv/MorphNode"}),ne.value=new H.Service({ros:t.value,name:r.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"}),J.value=new H.Service({ros:t.value,name:r.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),U.value=new H.Service({ros:t.value,name:r.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"}),P.value=new H.Service({ros:t.value,name:r.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"}),M.value=new H.Service({ros:t.value,name:r.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"}),Q.value=new H.Service({ros:t.value,name:r.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"}),Z.value=new H.Service({ros:t.value,name:r.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"}),ee.value=new H.Service({ros:t.value,name:r.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"}),Y.value=new H.Service({ros:t.value,name:r.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"}),oe.value=new H.Service({ros:t.value,name:r.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"})}function me(){t.value.connect(o.value)}function X(we){o.value=we}function Ee(){k({title:"ROS connection established!",type:"success"})}function Ce(){s.areMessagesAvailable(!1),e.arePackagesAvailable(!1),k({title:"ROS connection closed!",type:"warn"})}function ge(we){r.value=we,i.value.indexOf(we)===-1&&i.value.push(r.value),ue()}function ve(we){i.value=we}return{ros:t,connected:n,url:o,namespace:r,available_namespaces:i,services_for_type_service:a,load_tree_service:l,fix_yaml_service:c,control_tree_execution_service:d,clear_tree_service:f,get_available_nodes_service:R,add_node_service:_,get_message_fields_service:E,unwire_data_service:$,remove_node_service:F,morph_node_service:N,set_options_service:L,move_node_service:P,replace_node_service:S,wire_data_service:J,add_node_at_index_service:U,generate_subtree_service:ne,set_publish_subtrees_service:p,get_storage_folders_service:M,get_folder_structure_service:Q,get_package_structure_service:Z,save_tree_service:ee,change_tree_name_service:Y,load_tree_from_path_service:oe,tree_sub:O,subtree_info_sub:T,packages_sub:y,messages_sub:I,connect:me,setUrl:X,changeNamespace:ge,setAvailableNamespaces:ve,hasConnected:Ee,hasDisconnected:Ce,updateROSServices:ue}},{persist:{paths:["namespace","url","available_namespaces"],storage:sessionStorage,afterRestore:s=>{s.store.updateROSServices(),s.store.connect()}}}),gt=Bt("nodes",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:20,maxPatternLength:100,minMatchCharLength:1,keys:["node_class","node_type","module","tags"],ignoreLocation:!0,useExtendedSearch:!0},e=v([]),t=v(new Ue([],s)),n=v([]);function o(a){e.value=a;const l=a.map(c=>(c.max_children<0?c.node_type="Flow control":c.max_children>0?c.node_type="Decorator":c.node_type="Leaf",c));t.value=new Ue(l,s)}function r(a){if(a===""){n.value=[];return}n.value=t.value.search(a).map(l=>l.item)}function i(){n.value=[]}return{nodes:e,nodes_fuse:t,filtered_nodes:n,updateAvailableNode:o,filterNodes:r,clearFilteredNodes:i}}),$_={class:"border rounded mb-2"},D_={key:0,class:"m-2"},L_={class:"d-grid gap-2 mb-2"},I_={class:"input-group mb-3"},R_=["value"],P_=se({__name:"PackageLoader",setup(s){const e=he(),t=gt(),n=v(!1),o=v("ros_bt_py.nodes.sequence");function r(){n.value=!n.value}function i(l){const c=l.target;o.value=c.value}function a(l){e.get_available_nodes_service.callService({node_modules:[l]},c=>{c.success?(t.updateAvailableNode(c.available_nodes),k({title:"Updated available BT nodes!",type:"success"})):k({title:"Failed to update available BT nodes!",text:c.error_message,type:"error"})},c=>{k({title:"Failed to call GetAvailableNodes service!",text:c,type:"error"})})}return Vt(()=>{a("")}),(l,c)=>{const d=Re("font-awesome-icon");return h(),D("div",$_,[u("div",{onClick:r,class:"text-center cursor-pointer font-weight-bold m-2"},[c[2]||(c[2]=Se(" Package Loader ")),n.value?(h(),q(d,{key:1,icon:"fa-solid fa-angle-down","aria-hidden":"true"})):(h(),q(d,{key:0,icon:"fa-solid fa-angle-up","aria-hidden":"true"}))]),n.value?Ae("",!0):(h(),D("div",D_,[u("div",L_,[u("button",{id:"refresh",class:"btn btn-block btn-primary mt-2",onClick:c[0]||(c[0]=()=>a(""))}," Refresh ")]),u("div",I_,[u("input",{type:"text",class:"form-control",id:"loadPackageForm","aria-describedby":"loadPackageFormConfirm","aria-label":"Load Package",value:o.value,onChange:i},null,40,R_),u("button",{type:"button",className:"btn btn-block btn-outline-primary",onClick:c[1]||(c[1]=()=>a(o.value)),id:"loadPackageFormConfirm"}," Load package ")])]))])}}});var _e=(s=>(s[s.DO_NOTHING=0]="DO_NOTHING",s[s.TICK_ONCE=1]="TICK_ONCE",s[s.TICK_PERIODICALLY=2]="TICK_PERIODICALLY",s[s.TICK_UNTIL_RESULT=3]="TICK_UNTIL_RESULT",s[s.STOP=4]="STOP",s[s.RESET=5]="RESET",s[s.SHUTDOWN=6]="SHUTDOWN",s[s.SETUP_AND_SHUTDOWN=7]="SETUP_AND_SHUTDOWN",s))(_e||{}),Ns=(s=>(s.DARK="darkmode",s.LIGHT="lightmode",s))(Ns||{});const le=Bt("editor",()=>{gt();const s=v(void 0),e=v([]),t=v(!1),n=v(!1),o=v(new Set),r=v(),i=v(),a=v(),l=re(()=>r.value!==void 0||i.value!==void 0||a.value!==void 0),c=v(!0),d=v("darkmode"),f=v({name:"",is_subtree:!1,tree:void 0}),_=re(()=>e.value.map(M=>M.name)),p=v(void 0),O=v(!1);function T(M){t.value=M}function y(M){n.value=M}function I(M){o.value.add(M)}function R(M){o.value.delete(M)}function E(M){r.value=M}function $(M){i.value=M}function F(M){a.value=M}function S(){r.value=void 0,i.value=void 0,a.value=void 0}function L(){a.value=void 0}function N(M){c.value=M}function P(){switch(d.value){case"darkmode":d.value="lightmode";return;case"lightmode":d.value="darkmode";return;default:d.value="darkmode";return}}function U(M,Q){let Z;if(Q){if(e.value.length===0){k({title:"No Subtree Information received!",type:"error"});return}Z=e.value.find(ee=>ee.name===M)}f.value={name:M,is_subtree:Q,tree:Z}}function J(M){p.value=M}function ne(){p.value=void 0}return{tree:s,publish_subtrees:t,debug:n,subtree_states:e,running_commands:o,dragging_new_node:r,dragging_existing_node:i,data_edge_endpoint:a,is_dragging:l,is_layer_mode:O,runNewCommand:I,removeRunningCommand:R,enableSubtreePublishing:T,enableDebugging:y,startDraggingNewNode:E,startDraggingExistingNode:$,startDrawingDataEdge:F,stopDragging:S,stopDrawingDataEdge:L,show_data_graph:c,enableShowDataGraph:N,skin:d,cycleEditorSkin:P,selected_subtree:f,selectSubtree:U,subtree_names:_,selected_edge:p,selectEdge:J,unselectEdge:ne}});function Ro(s,e){if(s.node.data.name===e.node.data.name||s.kind===e.kind)return!1;const t=s.kind===Te.OUTPUT?s:e,n=s.kind===Te.INPUT?s:e;return n.type==='{"py/type": "__builtin__.object"}'||n.type==='{"py/type": "builtins.object"}'?!0:fe(t.type)===fe(n.type)}const es=["int","float","long","str","basestring","unicode","bool","list","dict","set","type"];function fe(s){const e=JSON.parse(s);return e["py/type"]!==void 0?e["py/type"]==="bt_capabilities.nodes.capability.CapabilityType"?"CapabilityType":e["py/type"].replace("__builtin__.","").replace("builtins.","").replace(/^basestring$/,"string").replace(/^unicode$/,"string").replace(/^str$/,"string"):e["py/object"]!==void 0&&e["py/object"]==="ros_bt_py.node_config.OptionRef"?"OptionRef("+e.option_key+")":e["py/reduce"]!==void 0&&e["py/reduce"][0]!==void 0&&e["py/reduce"][0]["py/type"]!==void 0&&e["py/reduce"][0]["py/type"]==="collections.OrderedDict"?e["py/reduce"][0]["py/type"]:"Unknown type object: "+s}function Ft(s,e=null){if(s==="type")return{type:"type",value:"int"};if(s==="int"||s==="long")return{type:"int",value:0};if(s==="str"||s==="basestring"||s==="unicode"||s==="string")return{type:"string",value:"foo"};if(s==="float")return{type:"float",value:1.2};if(s==="bool")return{type:"bool",value:!0};if(s==="list")return{type:"list",value:[]};if(s==="dict")return{type:"dict",value:{}};if(s.startsWith("OptionRef(")){const t=s.substring(10,s.length-1);if(e===null)return{type:"unset_optionref",value:'Ref to "'+t+'"'};const n=e.find(o=>o.key===t);return n?Ft(Ft(fe(n.serialized_value)).value):{type:"unset_optionref",value:'Ref to "'+t+'"'}}else return s==="collections.OrderedDict"?{type:"collections.OrderedDict",value:{"py/reduce":[{"py/type":"collections.OrderedDict"},{"py/tuple":[[]]},null,null,null]}}:s==="ros_bt_py.ros_helpers.LoggerLevel"?{type:"ros_bt_py.ros_helpers.LoggerLevel",value:{"py/object":"ros_bt_py.ros_helpers.LoggerLevel",logger_level:"Debug"}}:s==="ros_bt_py.helpers.MathUnaryOperator"?{type:"ros_bt_py.helpers.MathUnaryOperator",value:{"py/object":"ros_bt_py.helpers.MathUnaryOperator",operator:"sqrt"}}:s==="ros_bt_py.helpers.MathBinaryOperator"?{type:"ros_bt_py.helpers.MathBinaryOperator",value:{"py/object":"ros_bt_py.helpers.MathBinaryOperator",operator:"+"}}:s==="ros_bt_py.helpers.MathOperandType"?{type:"ros_bt_py.helpers.MathOperandType",value:{"py/object":"ros_bt_py.helpers.MathOperandType",operand_type:"float"}}:s==="ros_bt_py.helpers.MathUnaryOperandType"?{type:"ros_bt_py.helpers.MathUnaryOperandType",value:{"py/object":"ros_bt_py.helpers.MathUnaryOperandType",operand_type:"float"}}:s==="ros_bt_py.ros_helpers.EnumValue"?{type:"ros_bt_py.ros_helpers.EnumValue",value:{"py/object":"ros_bt_py.ros_helpers.EnumValue",enum_value:"",field_names:[]}}:{type:"__"+s,value:{}}}function M_(s){const e=is(),t=s.split(".");if(t.length<3)return console.error("Invalid message passed"),{msg:"",action:!1,service:!1,type:He.MESSAGE};let n=t.slice(0,2);t.length>3&&t[2]===t[3].replace(/[A-Z]/g,r=>"_"+r.toLowerCase())?n.push(...t.slice(3)):n.push(...t.slice(2));const o=e.messages.find(r=>r.msg===n.join("."));return o===void 0?(console.error("Invalid message passed"),{msg:n.slice(0,3).join("/"),action:!1,service:!1,type:He.MESSAGE}):{msg:n.slice(0,3).join("/"),type:o.type,action:o.action,service:o.service}}function oi(s){if(!s||s==null||s.length==0)return"No documentation provided";{const e=s.indexOf("**Behavior Tree I/O keys**");return e<0?s:s.substring(0,e).trim()}}function ln(s,e){return e=e||[],{key:s.key,value:Ft(fe(s.serialized_value),e)}}const Ve=Bt("edit_node",()=>{const s=le(),e=gt(),t=v(!1),n=v(!1),o=v(void 0),r=v(void 0),i=v([]),a=v("none"),l=v(""),c=v(""),d=v(""),f=v([]),_=v([]),p=v([]),O=v(!1),T=v(!1),y=re(()=>e.nodes.filter(M=>M.max_children==-1)),I=re(()=>y.value.filter(M=>d.value===M.module&&c.value===M.node_class).length>0),R=v(!1);function E(){n.value=!0}function $(){n.value=!1}function F(){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=void 0,i.value=[],a.value="none"}function S(M){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=M,R.value=!1,t.value=!0,i.value=[],a.value="nodelist",l.value=M.name,c.value=M.node_class,d.value=M.module,O.value=!0,T.value=!1,f.value=M.options.map(Q=>ln(Q,M.options)),_.value=M.inputs.map(Q=>ln(Q,M.options)),p.value=M.outputs.map(Q=>ln(Q,M.options))}function L(M){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;const Z=(s.selected_subtree.is_subtree?s.selected_subtree.tree:s.tree).nodes.find(oe=>oe.name===M);if(Z===void 0){console.error("Could not find node in tree"),F();return}const ee=e.nodes.find(oe=>oe.node_class===Z.node_class&&oe.module===Z.module);ee===void 0&&console.error("Cannot recover node information"),o.value=Z,r.value=ee,R.value=!0,t.value=!1,i.value=[M],a.value="editor",l.value=Z.name,c.value=Z.node_class,d.value=Z.module,O.value=!0,T.value=!1;function Y(oe){const ue=fe(oe.serialized_type);let me=JSON.parse(oe.serialized_value);return ue==="type"&&(me=me["py/type"].replace("__builtin__.","").replace("builtins.","")),{key:oe.key,value:{type:ue,value:me}}}f.value=Z.options.map(oe=>Y(oe)),_.value=Z.inputs.map(oe=>Y(oe)),p.value=Z.outputs.map(oe=>Y(oe))}function N(M){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,r.value=void 0,a.value="multiple",i.value.forEach(Q=>{const Z=M.indexOf(Q);Z===-1?M.push(Q):M.splice(Z,1)}),i.value=M}function P(M){R.value=M}function U(M){n.value=!0,l.value=M}function J(M){n.value=!0,T.value=!0,c.value=M}function ne(M,Q,Z){n.value=!0;function ee(Y){return Y.key===Q?{key:Q,value:{type:Y.value.type,value:Z}}:Y}if(M.toLowerCase()==="options"){let Y=function(X,Ee){const Ce=X.find(ge=>ge[0]===Ee.key);if(Ce){const ge=f.value.find(ve=>ve.key===Ce[1]);if(ge){const ve=ge.value.value;return{key:Ee.key,value:Ft(ve.replace("__builtin__.","").replace("builtins.",""))}}}return Ee};if(r.value===void 0){console.error("Cannot recover node information");return}const oe=r.value.options.filter(X=>fe(X.serialized_value).startsWith("OptionRef(")).map(X=>[X.key,fe(X.serialized_value).substring(10,fe(X.serialized_value).length-1)]).filter(X=>X[1]===Q),ue=r.value.inputs.filter(X=>fe(X.serialized_value).startsWith("OptionRef(")).map(X=>[X.key,fe(X.serialized_value).substring(10,fe(X.serialized_value).length-1)]).filter(X=>X[1]===Q),me=r.value.outputs.filter(X=>fe(X.serialized_value).startsWith("OptionRef(")).map(X=>[X.key,fe(X.serialized_value).substring(10,fe(X.serialized_value).length-1)]).filter(X=>X[1]===Q);f.value=f.value.map(ee),f.value=f.value.map(X=>Y(oe,X)),ue.length>0&&(_.value=_.value.map(X=>Y(ue,X))),me.length>0&&(p.value=p.value.map(X=>Y(me,X)))}else M.toLowerCase()==="inputs"?_.value=_.value.map(ee):M.toLowerCase()==="outputs"&&(p.value=p.value.map(ee))}return{selected_node:o,reference_node:r,selected_node_names:i,last_seletion_source:a,node_has_changed:n,copy_node_mode:R,node_is_valid:O,node_is_morphed:T,new_node_name:l,new_node_class:c,new_node_module:d,new_node_options:f,new_node_inputs:_,new_node_outputs:p,flow_control_nodes:y,is_flow_control_node:I,nodeListSelectionChange:S,editorSelectionChange:L,selectMultipleNodes:N,clearSelection:F,setNodeHasChanged:E,clearNodeHasChanged:$,changeCopyMode:P,changeNodeName:U,changeNodeClass:J,updateParamValue:ne}}),F_={class:"io_values list-group-item"},V_={class:"table"},H_=["title"],j_=["title"],cn=se({__name:"IOTableEntry",props:{io_node_data:{},title:{}},setup(s){return(e,t)=>(h(),D("div",F_,[u("h5",null,j(e.title),1),u("table",V_,[u("tbody",null,[(h(!0),D(ae,null,ce(e.io_node_data,n=>(h(),D("tr",{key:e.title+n.key},[u("td",{title:n.key,class:"io_key text-truncate maxw0"},j(n.key),9,H_),u("td",{title:g(fe)(n.serialized_value),class:"io_type text-truncate maxw0 text-muted pl-2"},j(g(fe)(n.serialized_value)),9,j_)]))),128))])])]))}}),W_=["id"],U_={class:"d-flex justify-content-between"},B_={class:"d-flex"},z_=["title"],K_={class:"d-flex"},G_=["title"],Y_={key:0},q_={key:0,class:"list-group-item mt-1"},X_={class:"list-group"},J_=se({__name:"NodeListItem",props:{node:{}},setup(s){const e=s,t=le(),n=Ve(),o=re(()=>t.dragging_new_node?t.dragging_new_node.node_class===e.node.node_class&&t.dragging_new_node.module===e.node.module:!1),r=re(()=>o.value?"border-primary":"grab"),i=re(()=>e.node.max_children<0?"Flow control":e.node.max_children>0?"Decorator":"Leaf"),a=v(!0);function l(){console.log("click "+e.node.name),n.nodeListSelectionChange(e.node)}return(c,d)=>{const f=Re("font-awesome-icon");return h(),D("div",{id:c.node.module+c.node.name,class:Oe(["border rounded p-2 m-2",r.value]),tabindex:"0",onClick:l,onMousedown:d[2]||(d[2]=mi(()=>g(t).startDraggingNewNode(c.node),["stop","prevent"])),onKeydown:d[3]||(d[3]=_=>{_.key=="Enter"&&g(n).nodeListSelectionChange(c.node)})},[u("div",U_,[u("div",B_,[u("h4",{title:c.node.node_class,class:"node_class text-truncate"},j(c.node.node_class),9,z_),z(f,{icon:"fa-solid fa-question-circle",class:"ps-2 pe-2","aria-hidden":"true",title:g(oi)(c.node.doc)},null,8,["title"])]),u("div",K_,[a.value?(h(),q(f,{key:1,icon:"fa-solid fa-angle-down","aria-hidden":"true",class:"cursor-pointer",onClick:d[1]||(d[1]=()=>{a.value=!a.value})})):(h(),q(f,{key:0,icon:"fa-solid fa-angle-up","aria-hidden":"true",class:"cursor-pointer",onClick:d[0]||(d[0]=()=>{a.value=!a.value})}))])]),u("h5",{title:c.node.module,class:"node_module text-truncate text-muted"},j(c.node.module),9,G_),u("div",null,j(i.value+" (max_children: "+(e.node.max_children>=0?e.node.max_children:"∞")+")"),1),a.value?Ae("",!0):(h(),D("div",Y_,[c.node.tags.length>0?(h(),D("div",q_,[d[4]||(d[4]=Se(" Tags: ")),(h(!0),D(ae,null,ce(c.node.tags,_=>(h(),D("span",{class:"border rounded p-2 m-1 tag",key:_},j(_),1))),128))])):Ae("",!0),u("div",X_,[c.node.options.length>0?(h(),q(cn,{key:0,title:"Options",io_node_data:c.node.options},null,8,["io_node_data"])):Ae("",!0),c.node.inputs.length>0?(h(),q(cn,{key:1,title:"Inputs",io_node_data:c.node.inputs},null,8,["io_node_data"])):Ae("",!0),c.node.outputs.length>0?(h(),q(cn,{key:2,title:"Outputs",io_node_data:c.node.outputs},null,8,["io_node_data"])):Ae("",!0)])]))],42,W_)}}});const Q_={class:"available-nodes border rounded m-1 mb-2 pb-2 d-flex flex-column"},Z_={key:0,class:"scroll-col flex-shrink-1"},ef=se({__name:"NodeList",setup(s){const e=v(!1),t=gt(),n=function(i,a){return i.node_class<a.node_class?-1:i.node_class>a.node_class?1:0},o=function(i,a){return i.module<a.module?-1:i.module>a.module?1:n(i,a)},r=re(()=>{if(t.filtered_nodes.length>0)return t.filtered_nodes;{let i=[...t.nodes].sort(n);return i=i.sort(o),i}});return(i,a)=>{const l=Re("font-awesome-icon");return h(),D("div",Q_,[u("div",{onClick:a[0]||(a[0]=()=>{e.value=!e.value}),class:"text-center cursor-pointer font-weight-bold m-2"},[a[1]||(a[1]=Se(" Node List ")),e.value?(h(),q(l,{key:1,icon:"fa-solid fa-angle-down","aria-hidden":"true"})):(h(),q(l,{key:0,icon:"fa-solid fa-angle-up","aria-hidden":"true"}))]),e.value?Ae("",!0):(h(),D("div",Z_,[(h(!0),D(ae,null,ce(r.value,c=>(h(),q(J_,{key:c.node_class+c.module,node:c},null,8,["node"]))),128))]))])}}});const tf={class:"input-group my-2"},sf=["value"],nf={label:"Subtrees"},of=["value"],rf=["checked"],Po="publish_subtrees",af=se({__name:"SelectSubtree",setup(s){const e=le(),t=he();function n(i){const a=i.target;if(!t.connected){k({title:"Service not available!",text:"SetExecutionMode ROS service is not connected!",type:"error"});return}t.set_publish_subtrees_service.callService({data:a.checked},l=>{l.success?(k({title:(a.checked?"Enable":"Disable")+" subtree publishing",type:"success"}),e.enableSubtreePublishing(a.checked)):k({title:"Failed to toggle subtree publishing",text:l.message,type:"warn"})},l=>{k({title:"Failed to call setPublishSubtrees service",text:l,type:"error"})})}function o(i){const a=i.target,l=parseInt(a.value);l<0?e.selectSubtree("",!1):e.selectSubtree(e.subtree_names[l],!0)}const r=re(()=>e.selected_subtree.is_subtree?e.selected_subtree.name:"main");return(i,a)=>{const l=Re("font-awesome-icon");return h(),D("div",null,[u("div",tf,[a[1]||(a[1]=u("label",{class:"input-group-text",for:"formTree"}," Tree ",-1)),u("select",{id:"formTree",class:"form-select",value:g(e).subtree_names.indexOf(r.value),onChange:o},[a[0]||(a[0]=u("option",{value:"-1"},"Main Tree",-1)),u("optgroup",nf,[(h(!0),D(ae,null,ce(g(e).subtree_names,(c,d)=>(h(),D("option",{key:c,value:d},j(c),9,of))),128))])],40,sf),u("input",{type:"checkbox",id:Po,class:"btn-check",autocomplete:"off",checked:g(e).publish_subtrees,onChange:n},null,40,rf),u("label",{class:"btn btn-primary",for:Po},[z(l,{class:Oe(g(e).publish_subtrees?"text-white":"text-white-50"),icon:"fa-solid fa-bullhorn"},null,8,["class"])])])])}}}),lf=["visibility"],cf=["href"],uf=["href"],df=["href"],_f=["visibility"],ff=["fill"],pf=30,De=50,gs=10,Le=15,Gt=10,Mo=10,vf=100,hf=5,Fo=50,qe="__forest_root",st=80,Vo=150,ys="node",Yt="btnode",Ho="node_name",jo="class_name",Wo="link",bs="drop_target",un="gripper-group",Uo="gripper",St="label",Bo="label-type",zo="data-link",Ko="hightlightEdge",dn="highlightV1",Go="highlightV2",At="data-hover",mf="node-selected",gf=se({__name:"D3BehaviorTreeEditor",setup(s){const e=le(),t=Ve(),n=he(),o=v(),r=v(),i=v(),a=v(),l=v(),c=v(),d=v(),f=v(),_=v(),p=v();let O,T=!1,y=!1,I=0,R=0;const E=v([]);let $,F=[0,0],S;function L(){if(o.value===void 0||r.value===void 0||O===void 0){k({title:"Element reference undefined!",type:"error"});return}const A=te(o.value),w=A.node().getBoundingClientRect().height;A.call(O.translateTo,0,w*.5-10)}function N(A){function w(b,V){return V=V||[],b.map(K=>({key:K.key,value:Ft(fe(K.serialized_value),V)}))}const m=w(A.options),x=m.map(b=>{if(b.value.type==="unset_optionref"){const V=b.value.value,K=V.substring(8,V.length-1),pe=m.find(de=>de.key===K);if(pe&&pe.value)return{key:b.key,value:Ft(pe.value.value)}}return{key:b.key,value:b.value}});return{module:A.module,node_class:A.node_class,name:A.name,options:x.map(b=>{const V={key:b.key,serialized_value:"",serialized_type:""};if(b.value.type==="type")es.indexOf(b.value.value)>=0&&(b.value.value="__builtin__."+b.value.value),V.serialized_value=JSON.stringify({"py/type":b.value.value});else if(b.value.type.startsWith("__")){const K=b.value.value;K["py/object"]=b.value.type.substring(2),V.serialized_value=JSON.stringify(b.value.value)}else V.serialized_value=JSON.stringify(b.value.value);return V}),child_names:[],inputs:[],outputs:[],version:"",max_children:0,state:""}}function P(){if(o.value===void 0)return;if(!e.is_dragging){$!==void 0&&(window.clearInterval($),F=[]);return}const A=o.value.getBoundingClientRect().width,w=o.value.getBoundingClientRect().height,m=us(o.value);let x=!1;if(F=[0,0],m[0]<De){x=!0;const b=(De-m[0])/De;F[0]=gs*b}else if(m[0]>A-De){x=!0;const b=(De-(A-m[0]))/De;F[0]=-1*gs*b}if(m[1]<De){x=!0;const b=(De-m[1])/De;F[1]=gs*b}else if(m[1]>w-De){x=!0;const b=(De-(w-m[1]))/De;F[1]=-1*gs*b}if(!x&&$!==void 0){window.clearInterval($),$=void 0;return}$===void 0&&($=window.setInterval(U,1e3/pf))}function U(){if(!e.is_dragging&&$){window.clearInterval($),$=void 0;return}te(o.value).call(O.translateBy,F[0],F[1])}ls(J);function J(){if(e.tree===void 0){console.warn("Tree is undefined");return}if(i.value===void 0){console.warn("DOM is broken");return}S=Ai().duration(100).ease(ki);const A=B=>({key:B.key,serialized_type:B.serialized_type}),w=e.selected_subtree.is_subtree?e.selected_subtree.tree:e.tree,m=w.nodes.map(B=>({node_class:B.node_class,module:B.module,name:B.name,state:B.state,max_children:B.max_children,child_names:B.child_names,options:B.options.map(A),inputs:B.inputs.map(A),outputs:B.outputs.map(A),size:{width:1,height:1}})),x={node_class:"",module:"",state:"",max_children:-1,name:qe,child_names:[],inputs:[],outputs:[],options:[],size:{width:0,height:0}};m.findIndex(B=>B.name===qe)<0&&m.push(x);const b={};for(const B in m){const ie=m[B];for(const ut in ie.child_names)b[ie.child_names[ut]]=ie.name}const V=Ci().id(B=>B.name).parentId(B=>B.name in b?b[B.name]:B.name===x.name?void 0:(x.child_names.push(B.name),x.name))(m);V.sort(function(B,ie){if(B.depth!==ie.depth)return ie.depth-B.depth;for(;B.parent!==ie.parent;)B=B.parent,ie=ie.parent;const ut=B.parent.data.child_names;return ut.findIndex(bt=>bt===B.data.name)-ut.findIndex(bt=>bt===ie.data.name)});const pe=te(i.value).selectAll("."+ys).data(V.descendants().filter(B=>B.data.name!==qe),B=>B.id).join(ne).call(M).call(Q),de=Z(pe,V);ee(de),Y(de),ge(de,w.data_wirings)}function ne(A){const w=A.append("foreignObject").classed(ys,!0).classed("node--internal",x=>x.children!==void 0&&x.children.length>0).classed("node--leaf",x=>x.children===void 0||x.children.length==0).on("click.select",x=>{We.shiftKey?t.selectMultipleNodes([x.data.name]):t.editorSelectionChange(x.data.name),We.stopPropagation()});e.selected_subtree.is_subtree||w.on("mousedown.dragdrop",x=>{e.startDraggingExistingNode(x),We.stopPropagation()});const m=w.append("xhtml:body").classed(Yt+" p-2",!0).style("min-height",x=>{const b=x.data.inputs||[],V=x.data.outputs||[],K=Math.max(b.length,V.length);return(Le+Gt)*K+"px"});return m.append("h4").classed(Ho,!0),m.append("h5").classed(jo,!0),w}function M(A){const w=A.select("."+Yt);w.select("."+Ho).html(x=>x.data.name),w.select("."+jo).html(x=>x.data.node_class);const m=Oi(o.value).k;return w.each(function(x){const b=this.getBoundingClientRect();x.data.size.width=b.width/m,x.data.size.height=b.height/m}),A.transition(S).attr("width",x=>x.data.size.width/m).attr("height",x=>x.data.size.height/m),A}function Q(A){A.select("."+Yt).transition(S).style("border-color",w=>{switch(w.data.state){case"RUNNING":return"#ffc107";case"IDLE":return"#007bff";case"SUCCEEDED":return"#28a745";case"FAILED":return"#dc3545";case"SHUTDOWN":return"#7c1e27";case"UNINITIALIZED":default:return"#4E5666"}})}function Z(A,w){const m=Array(w.height+1).fill(0);A.each(b=>{m[b.depth]=Math.max(b.data.size.height,m[b.depth])});const x=Ni({nodeSize:b=>{let V;return e.is_layer_mode?V=m[b.depth]:V=b.data.size.height,V+=b.depth>0?st:0,[b.data.size.width,V]},spacing:(b,V)=>e.is_layer_mode?st:b.parent!==V.parent?2*st:st})(w);return A.data(x.descendants().filter(b=>b.data.name!==qe),b=>b.id).transition(S).attr("x",b=>b.x-b.data.size.width/2).attr("y",b=>b.y),x}function ee(A){if(a.value===void 0){console.warn("DOM is broken");return}te(a.value).selectAll("."+Wo).data(A.links().filter(w=>w.source.data.name!==qe),w=>w.source.id+"###"+w.target.id).join("path").classed(Wo,!0).transition(S).attr("d",xi().source(w=>{const m=w.source;return[m.x,m.y+m.data.size.height]}).target(w=>{const m=w.target;return[m.x,m.y]}))}function Y(A){if(f.value===void 0){console.warn("DOM is broken");return}const w=[];e.selected_subtree.is_subtree||A.each(m=>{m.data.name!==qe&&(w.push({node:m,position:G.LEFT}),w.push({node:m,position:G.CENTER}),w.push({node:m,position:G.RIGHT}),w.push({node:m,position:G.TOP}),(m.data.max_children===-1||m.data.max_children>m.data.child_names.length)&&w.push({node:m,position:G.BOTTOM}))}),w.length===0&&(A.data.size.width=Vo,A.data.size.height=Vo,w.push({node:A,position:G.CENTER})),te(f.value).selectAll("."+bs).data(w,m=>m.node.id+"###"+m.position).join("rect").classed(bs,!0).attr("width",m=>{switch(m.position){case G.LEFT:case G.RIGHT:return st;case G.TOP:case G.BOTTOM:case G.CENTER:return m.node.data.size.width;default:return 0}}).attr("height",m=>{switch(m.position){case G.LEFT:case G.RIGHT:case G.CENTER:return m.node.data.size.height;case G.TOP:case G.BOTTOM:return .45*st;default:return 0}}).attr("x",m=>{switch(m.position){case G.LEFT:return m.node.x-st-.5*m.node.data.size.width;case G.RIGHT:return m.node.x+.5*m.node.data.size.width;case G.TOP:case G.BOTTOM:case G.CENTER:return m.node.x-.5*m.node.data.size.width;default:return 0}}).attr("y",m=>{switch(m.position){case G.LEFT:case G.RIGHT:case G.CENTER:return m.node.y;case G.TOP:return m.node.y-.5*st;case G.BOTTOM:return m.node.y+m.node.data.size.height;default:return 0}}).attr("opacity",.2).on("mouseover.highlight",function(){te(this).attr("opacity",.8)}).on("mouseout.highlight",function(){te(this).attr("opacity",.2)}).on("mouseup.dragdrop",m=>{e.dragging_new_node?X(m):e.dragging_existing_node?ue(m):console.warn("Unintended drag release")})}function oe(){return e.dragging_new_node!==void 0||e.dragging_existing_node!==void 0?"visible":"hidden"}function ue(A){if(e.dragging_existing_node===void 0){console.warn("Tried to move existing node by dragging but none selected");return}const w=e.dragging_existing_node.data.name;let m="",x=-1;A.node.parent&&(A.position===G.BOTTOM?(m=A.node.data.name,x=0):A.node.parent.data.name!==qe&&(m=A.node.parent.data.name,x=A.node.parent.children.indexOf(A.node)),A.position===G.RIGHT&&x++,m===e.dragging_existing_node.parent.data.name&&x>A.node.parent.children.findIndex(b=>b.data.name===w)&&x--),n.move_node_service.callService({node_name:w,new_parent_name:m,new_child_index:x},b=>{b.success?(k({title:"Moved node "+w,type:"success"}),Ce(w,A)):k({title:"Failed to move node "+A.node.data.name,text:b.error_message,type:"warn"})},b=>{k({title:"Failed to call moveNode service",text:b,type:"error"})})}ls(me);function me(){if(f.value===void 0){console.warn("DOM is broken");return}const A=te(f.value).selectAll("."+bs).attr("visibility",null);e.dragging_existing_node!==void 0&&(A.filter(w=>e.dragging_existing_node.descendants().find(m=>m.data.name===w.node.data.name)!==void 0).attr("visibility","hidden"),A.filter(w=>{switch(w.position){case G.CENTER:return e.dragging_existing_node.data.max_children!==-1&&w.node.data.child_names.length+e.dragging_existing_node.data.child_names.length>e.dragging_existing_node.data.max_children;case G.TOP:return e.dragging_existing_node.data.child_names.length>=e.dragging_existing_node.data.max_children;case G.BOTTOM:return w.node.data.max_children!==-1&&w.node.data.name!==e.dragging_existing_node.parent.data.name&&w.node.data.child_names.length>=w.node.data.max_children;case G.LEFT:case G.RIGHT:return w.node.parent.data.max_children!==-1&&w.node.parent.data.name!==e.dragging_existing_node.parent.data.name&&w.node.parent.data.child_names.length>=w.node.parent.data.max_children;default:return!0}}).attr("visibility","hidden"))}function X(A){let w;if(e.dragging_new_node!==void 0)w=N(e.dragging_new_node);else{console.warn("Tried to add new node by dragging but none selected");return}let m="",x=-1;A.node.parent&&(A.position===G.BOTTOM?(m=A.node.data.name,x=0):A.node.parent.data.name!==qe&&(m=A.node.parent.data.name,x=A.node.parent.children.indexOf(A.node)),A.position===G.RIGHT&&x++),n.add_node_at_index_service.callService({parent_name:m,node:w,allow_rename:!0,new_child_index:x},b=>{b.success?(k({title:"Added node "+b.actual_node_name,type:"success"}),A.node.parent&&Ce(b.actual_node_name,A)):k({title:"Failed to add node "+w.name,text:b.error_message,type:"warn"})},b=>{k({title:"Failed to call addNodeAtIndex service",text:b,type:"error"})})}ls(Ee);function Ee(){if(f.value===void 0){console.warn("DOM is broken");return}const A=te(f.value).selectAll("."+bs).attr("visibility",null);e.dragging_new_node!==void 0&&A.filter(w=>{switch(w.position){case G.CENTER:return e.dragging_new_node.max_children!==-1&&w.node.data.child_names.length>e.dragging_new_node.max_children;case G.TOP:return e.dragging_new_node.max_children===0;case G.BOTTOM:return w.node.data.max_children!==-1&&w.node.data.child_names.length>=w.node.data.max_children;case G.LEFT:case G.RIGHT:return w.node.parent.data.max_children!==-1&&w.node.parent.data.child_names.length>=w.node.parent.data.max_children;default:return!0}}).attr("visibility","hidden")}function Ce(A,w){if(A===""){console.warn("Didn't get a node name back");return}w.position===G.TOP&&n.move_node_service.callService({node_name:w.node.data.name,new_parent_name:A,new_child_index:0},m=>{m.success?k({title:"Moved node "+w.node.data.name,type:"success"}):k({title:"Failed to move node "+w.node.data.name,text:m.error_message,type:"warn"})},m=>{k({title:"Failed to call moveNode service",text:m,type:"error"})}),w.position===G.CENTER&&(w.node.data.child_names.forEach(m=>{n.move_node_service.callService({node_name:m,new_parent_name:A,new_child_index:-1},x=>{x.success?k({title:"Moved node "+m,type:"success"}):k({title:"Failed to move node "+m,text:x.error_message,type:"warn"})},x=>{k({title:"Failed to call moveNode service",text:x,type:"error"})})}),n.remove_node_service.callService({node_name:w.node.data.name,remove_children:!1},m=>{m.success?k({title:"Removed node",type:"success"}):k({title:"Failed to remove node",text:m.error_message,type:"warn"})},m=>{k({title:"Failed to call removeNode service",text:m,type:"error"})}))}function ge(A,w){if(e.tree===void 0){console.warn("No tree received yet");return}if(l.value===void 0||d.value===void 0){console.warn("DOM is broken");return}const m=[];A.each(b=>{b.data.name!==qe&&(b.data.inputs.map((V,K)=>{m.push({node:b,index:K,kind:Te.INPUT,key:V.key,type:V.serialized_type,x:b.x-b.data.size.width*.5-Le,y:b.y+Gt+K*(Le+Gt)})}),b.data.outputs.map((V,K)=>{m.push({node:b,index:K,kind:Te.OUTPUT,key:V.key,type:V.serialized_type,x:b.x+b.data.size.width*.5,y:b.y+Gt+K*(Le+Gt)})}))});const x=te(d.value).selectAll("."+un).data(m,b=>b.node.id+"###"+b.kind+"###"+b.index).join(ve);x.select("."+St).select("."+Bo).text(b=>"(type: "+fe(b.type)+")"),e.selected_subtree.is_subtree||x.select("."+Uo).on("mousedown.drawedge",b=>{e.startDrawingDataEdge(b)}).on("mouseup.drawedge",b=>{if(e.data_edge_endpoint===void 0){console.warn("Unintended data edge draw");return}if(!Ro(b,e.data_edge_endpoint)){console.warn("Invalid edge");return}b.kind===Te.INPUT?yt(e.data_edge_endpoint,b):yt(b,e.data_edge_endpoint)}),x.transition(S).attr("transform",b=>"translate("+b.x+", "+b.y+")"),we(m,x,w)}function ve(A){const w=A.append("g").classed(un,!0).on("mouseover.highlight",function(){if(e.is_dragging){const x=te(this).classed("compatible");te(this).classed(At,x)}else te(this).classed(At,!0).attr("id",dn).select("."+St).attr("visibility","visible")}).on("mouseout.highlight",function(){e.is_dragging?te(this).classed(At,!1):te(this).classed(At,!1).attr("id",null).select("."+St).attr("visibility","hidden")});return w.append("rect").classed(Uo,!0).attr("width",Le).attr("height",Le),w.append("text").classed(St,!0).attr("dominant-baseline","middle").attr("visibility","hidden").attr("text-anchor",x=>x.kind===Te.INPUT?"end":"start").text(x=>x.key).attr("x",x=>{switch(x.kind){case Te.INPUT:return-5;case Te.OUTPUT:return Le+5;case Te.OTHER:default:return 0}}).attr("y",.5*Le).append("tspan").classed(Bo,!0).attr("x",function(){return te(this.parentElement).attr("x")}).attr("dy","1em"),w}function we(A,w,m){if(l.value===void 0||d.value===void 0||c.value===void 0){console.warn("DOM is broken");return}const x=[];function b(V,K){return V.node_name===K.node.data.name&&V.data_kind===K.kind&&V.data_key===K.key}m.forEach(V=>{const K=A.find(de=>b(V.source,de)),pe=A.find(de=>b(V.target,de));if(K===void 0||pe===void 0){console.warn("Bad data edge",K,pe);return}K.kind===Te.INPUT?x.push({source:pe,target:K,wiring:V}):x.push({source:K,target:pe,wiring:V})}),te(c.value).selectAll("."+zo).data(x,V=>V.source.node.id+"###"+V.source.kind+"###"+V.source.index+"#####"+V.target.node.id+"###"+V.target.kind+"###"+V.target.index).join("path").classed(zo,!0).on("click.select",V=>{e.selectEdge(V.wiring),We.stopPropagation()}).on("mouseover.highlight",function(V){e.is_dragging||(w.filter(K=>K===V.source||K===V.target).dispatch("mouseover").attr("id",K=>K.kind===Te.INPUT?Go:dn).select("."+St).attr("visibility",K=>K.kind===Te.INPUT?"hidden":"visible"),te(this).classed(At,!0).attr("id",Ko))}).on("mouseout.highlight",function(V){e.is_dragging||(w.filter(K=>K===V.source||K===V.target).dispatch("mouseout"),te(this).classed(At,!1).attr("id",null))}).transition(S).attr("d",V=>Ge(V.source,V.target))}function Ge(A,w){const m=$i().x(de=>de.x+Le/2).y(de=>de.y+Le/2).curve(Di.alpha(.9));let x=Math.abs(A.x-w.x)/vf;x=Math.min(Math.max(x,0),hf);const b=w.y-A.y>Fo,V=A.y-w.y>Fo,K={x:A.x+Mo,y:A.y-x*(b?-1:1)},pe={x:w.x-Mo,y:w.y-x*(V?-1:1)};return m([A,K,pe,w])}ls(Ye);function Ye(){if(d.value===void 0||_.value===void 0){console.warn("DOM is broken");return}const A=te(d.value).selectAll("."+un).classed("compatible",!1);A.select("."+St).attr("visibility","hidden");const w=te(_.value).attr("d",null);e.data_edge_endpoint!==void 0&&(A.filter(m=>Ro(m,e.data_edge_endpoint)).classed("compatible",!0),w.attr("d",()=>Ge(e.data_edge_endpoint,e.data_edge_endpoint)))}function yt(A,w){n.wire_data_service.callService({wirings:[{source:{node_name:A.node.data.name,data_kind:A.kind,data_key:A.key},target:{node_name:w.node.data.name,data_kind:w.kind,data_key:w.key}}],ignore_failure:!0},m=>{m.success?k({title:"Added data edge",type:"success"}):k({title:"Failed to add data edge",text:m.error_message,type:"warn"})},m=>{k({title:"Failed to call dataWiring service",text:m,type:"error"})})}xs(()=>[t.selected_node_names,E.value],()=>js());function js(){if(i.value===void 0){console.warn("DOM is broken");return}const A=t.selected_node_names.filter(x=>!E.value.includes(x)),w=E.value.filter(x=>!t.selected_node_names.includes(x)),m=A.concat(w);te(i.value).selectAll("."+ys).select("."+Yt).classed(mf,x=>m.includes(x.data.name))}return Vt(()=>{if(o.value===void 0||r.value===void 0){k({title:"Element reference undefined!",type:"error"});return}const A=te(o.value);O=Si(),O.scaleExtent([.3,1]);const w=te(r.value);A.call(O.on("zoom",function(){w.attr("transform",We.transform)})),O.filter(function(){return!We.shiftKey&&(!e.is_dragging||We.type==="wheel")}),L(),A.on("mousemove.pan_if_drag",P),A.on("click.unselect",()=>{We.shiftKey||(t.clearSelection(),e.unselectEdge())}),T=!1,y=!1,A.on("mousedown.drawselect",()=>{if(r.value===void 0){console.warn("DOM is broken");return}if(We.shiftKey){T=!0;const[m,x]=us(r.value);I=m,R=x}}),A.on("mousemove.drawselect",()=>{if(r.value===void 0||i.value===void 0||p.value===void 0){console.warn("DOM is broken");return}if(We.shiftKey&&T){y=!0;const m=te(p.value),[x,b]=us(r.value),V=Math.min(x,I),K=Math.min(b,R),pe=Math.abs(x-I),de=Math.abs(b-R);m.attr("x",V).attr("y",K),m.attr("width",pe).attr("height",de);let B=[];te(i.value).selectAll("."+ys).select("."+Yt).each(ie=>{ie.x>=V&&ie.x+ie.data.size.width<=V+pe&&ie.y>=K&&ie.y+ie.data.size.height<=K+de&&B.push(ie.data.name)}),E.value=B}}),A.on("mouseup.drawselect",()=>{if(i.value===void 0||p.value===void 0){console.warn("DOM is broken");return}T&&y&&(T=!1,y=!1,te(p.value).attr("width",0).attr("height",0),console.log(E.value),t.selectMultipleNodes(E.value),E.value=[])}),A.on("mousemove.drawedge",()=>{if(r.value===void 0||_.value===void 0){console.warn("DOM is broken");return}if(e.data_edge_endpoint===void 0)return;const[m,x]=us(r.value),b={x:m-Le/2,y:x-Le/2};te(_.value).attr("d",()=>e.data_edge_endpoint.kind===Te.INPUT?Ge(b,e.data_edge_endpoint):Ge(e.data_edge_endpoint,b))}),A.on("mouseup.drawedge",()=>{if(_.value===void 0){console.warn("DOM is broken");return}e.stopDrawingDataEdge(),te(_.value).attr("d",null)})}),(A,w)=>(h(),D("svg",{id:"editor_viewport",ref_key:"viewport_ref",ref:o,class:Oe(["reactive-svg",g(e).skin])},[u("g",{id:"container",ref_key:"svg_g_ref",ref:r},[u("g",{class:"edges",ref_key:"g_edges_ref",ref:a},null,512),u("g",{class:"vertices",ref_key:"g_vertices_ref",ref:i},null,512),u("g",{class:"data_graph",ref_key:"g_data_graph_ref",ref:l,visibility:g(e).show_data_graph?"visible":"hidden"},[u("g",{class:"data_edges",ref_key:"g_data_edges_ref",ref:c},null,512),u("g",{class:"data_vertices",ref_key:"g_data_vertices_ref",ref:d},null,512),u("use",{href:"#"+Go,"pointer-events":"none"},null,8,cf),u("use",{href:"#"+dn,"pointer-events":"none"},null,8,uf),u("use",{href:"#"+Ko,"pointer-events":"none"},null,8,df)],8,lf),u("g",{class:"drop_targets",ref_key:"g_drop_targets_ref",ref:f,visibility:oe()},null,8,_f),u("path",{class:"drawing-indicator",ref_key:"draw_indicator_ref",ref:_},null,512),u("rect",{class:"selection",ref_key:"selection_rect_ref",ref:p},null,512)],512),u("text",{x:"10",y:"20",fill:g(e).skin===g(Ns).DARK?"#FFFFFF":"#000000",textAnchor:"left",alignmentBaseline:"central",class:"cursor-pointer svg-button",onClick:L}," Reset View ",8,ff)],2))}});const yf={class:"d-flex flex-column"},bf={class:"btn-group d-flex mb-2",role:"group"},Ef={class:"row"},wf={class:"col"},Tf={class:"col"},Sf=se({__name:"BehaviorTreeEdge",setup(s){const e=he(),t=le(),n=Ve();function o(){const a=t.selected_edge;t.unselectEdge(),e.unwire_data_service.callService({wirings:[{source:a.source,target:a.target}]},l=>{l.success?k({title:"Removed data edge: "+a.source+" -> "+a.target+"!",type:"success"}):k({title:"Failed to remove data edge: "+a.source+" -> "+a.target+"!",text:l.error_message,type:"error"})})}function r(){n.editorSelectionChange(t.selected_edge.source.node_name)}function i(){n.editorSelectionChange(t.selected_edge.target.node_name)}return(a,l)=>(h(),D("div",yf,[u("div",bf,[u("button",{class:"btn btn-danger w-100",onClick:l[0]||(l[0]=()=>o())},"Delete Edge")]),u("div",Ef,[u("div",wf,[u("a",{href:"#",class:"text-primary",onClick:l[1]||(l[1]=()=>r())},j(g(t).selected_edge.source.node_name),1),u("span",null,j(g(t).selected_edge.source.data_kind)+".",1),u("span",null,j(g(t).selected_edge.source.data_key),1)]),l[3]||(l[3]=u("div",{class:"col"},[u("span",{"aria-hidden":"true",class:"fas fa-lg fa-long-arrow-alt-right"}),u("span",{class:"sr-only"},"is connected to")],-1)),u("div",Tf,[u("a",{href:"#",class:"text-primary",onClick:l[2]||(l[2]=()=>i())},j(g(t).selected_edge.target.node_name),1),u("span",null,j(g(t).selected_edge.target.data_kind),1),u("span",null,j(g(t).selected_edge.target.data_key),1)])])]))}}),Af=se({__name:"SelectSaveFileModal",emits:["save"],setup(s,{emit:e}){const t=e,n=v("");return(o,r)=>(h(),q(g(wn),{class:"flex justify-center items-center","content-class":"flex flex-col max-w-xl mx-4 p-4 bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-lg space-y-2"},{default:Qt(()=>[r[1]||(r[1]=u("h1",{class:"text-xl"},"Save Tree to Folder",-1)),Zo(o.$slots,"default"),u("button",{class:"mt-1 ml-auto px-2 border rounded-lg",onClick:r[0]||(r[0]=i=>t("save",n.value))}," Confirm ")]),_:3}))}}),kf={class:"d-flex flex-column"},Cf={class:"btn-group d-flex mb-2",role:"group"},Of=["disabled"],Nf={class:"d-flex flex-column"},xf={class:"input-group mb-3"},$f=["value"],Df={class:"input-group mb-3"},Lf=["value"],If={class:"input-group mb-3"},Rf=["value"],Pf=se({__name:"MultipleSelection",setup(s){const e=he();le();const t=Ve();let n=t.selected_node_names.join("_");n.length===0&&(n="Subtree");const o=v(n),r=v(""),i=v(""),a=v(!1),l=v(!1);function c(){e.generate_subtree_service.callService({nodes:t.selected_node_names},_=>{_.success?k({title:"Generated subtree "+_.tree.name+" successfully!",type:"success"}):k({title:"Failed to generate subtree !",text:_.error_message,type:"error"})})}function d(){l.value=!0}function f(_){l.value=!1,_!==""?(a.value=!0,r.value=_):a.value=!1}return(_,p)=>(h(),D(ae,null,[z(Af,{modelValue:l.value,"onUpdate:modelValue":p[0]||(p[0]=O=>l.value=O),title:"Select Save Location",onSave:p[1]||(p[1]=O=>f(O))},null,8,["modelValue"]),u("div",kf,[u("div",Cf,[u("button",{class:"btn btn-primary w-30",onClick:c,disabled:a.value}," Generate subtree from selection ",8,Of),u("button",{class:"btn btn-primary w-30",onClick:d}," Select Subtree Save Location ")]),u("div",Nf,[u("div",xf,[p[2]||(p[2]=u("span",{class:"input-group-text",id:"subtree-name"},"Subtree Name",-1)),u("input",{class:"form-control",type:"text",value:o.value,placeholder:"Name","aria-label":"SubreeName","aria-describedby":"subtree-name",disabled:"true"},null,8,$f)]),u("div",Df,[p[3]||(p[3]=u("span",{class:"input-group-text",id:"subtree-description"},"Subtree Description",-1)),u("input",{class:"form-control",type:"text",value:i.value,placeholder:"Description","aria-label":"SubreeDescription","aria-describedby":"subtree-description",disabled:"true"},null,8,Lf)]),u("div",If,[p[4]||(p[4]=u("span",{class:"input-group-text",id:"subtree-filepath"},"Subtree Filepath",-1)),u("input",{class:"form-control",type:"text",value:r.value,placeholder:"Filepath","aria-label":"SubreeFilepath","aria-describedby":"subtree-filepath",disabled:"true"},null,8,Rf)])])])],64))}}),Mf={key:0,class:"form-group"},Ff={class:"d-block"},Vf=["value","disabled"],Hf={class:"mb-2 search-results"},jf=["onClick","onKeyup"],Wf={key:1},Uf=se({__name:"TypeParam",props:{category:{},data_key:{}},setup(s){const e=s,t=le(),n=Ve(),o=is();let r=v([]);const i=re(()=>n.new_node_options.find(T=>T.key===e.data_key));let a=v(!0),l=v(!1);function c(T){if(i.value===void 0){console.error("Undefined parameter");return}let I=T.target.value||"";I=I.replace("__builtin__.","").replace("builtins.","");const R=o.messages_fuse.search(I);r.value=R.slice(0,5).map(E=>E.item),es.indexOf(I)>=0?n.updateParamValue(e.category,e.data_key,"__builtin__."+I):n.updateParamValue(e.category,e.data_key,I)}function d(T){n.updateParamValue(e.category,e.data_key,T.msg),O()}function f(){n.changeCopyMode(!1),a.value=!1}function _(){a.value=!0}function p(){l.value=!0}function O(){l.value=!1}return(T,y)=>i.value!==void 0?(h(),D("div",Mf,[u("label",Ff,[Se(j(i.value.key)+" ",1),u("input",{type:"text",class:"form-control mt-2",value:i.value.value.value,disabled:g(t).selected_subtree.is_subtree,onInput:c,onFocus:f,onBlur:_,onKeyup:y[0]||(y[0]=cs(()=>{_(),O()},["esc"])),onKeydown:cs(p,["tab"])},null,40,Vf)]),u("div",Hf,[u("div",{class:Oe(["list-group",{"d-none":g(a)&&!g(l)}]),onMouseenter:p,onMouseleave:O},[(h(!0),D(ae,null,ce(g(r),I=>(h(),D("div",{key:I.msg,class:"list-group-item search-result",tabindex:"0",onClick:()=>d(I),onKeyup:[cs(()=>d(I),["enter"]),cs(O,["esc"])]},j(I.msg),41,jf))),128))],34)])])):(h(),D("div",Wf," Error loading param data "))}});const Bf=se({__name:"JSONInput",props:{category:{},data_key:{}},setup(s){le();const e=Ve(),t=he(),n=s,o=re(()=>e.new_node_options.find(p=>p.key===n.data_key)),r=v(!0),i=v(void 0),a=v([]),l=v();let c;function d(){e.changeCopyMode(!1)}function f(){if(c!==void 0)try{const p=c.get();r.value=!0,e.updateParamValue(n.category,n.data_key,p)}catch{r.value=!1}}function _(){if(o.value===void 0)return;let p;o.value.value.type.startsWith("__")?p=o.value.value.type.substring(2):p=o.value.value.type;const O=M_(p);O.msg==="/dict"||O.msg===""||t.get_message_fields_service.callService({message_type:O.msg,service:O.service,action:O.action,type:O.type},T=>{if(T.success){i.value=T.fields,a.value=T.field_names;const y=JSON.parse(T.fields);if(console.log(y),c===void 0)return;c.update(y),f()}else k({title:"GetMessageFields Service Error",text:T.error_message,type:"error"})},T=>{k({title:"Failure calling GetMessageFields Service",text:T,type:"error"})})}return xs(()=>o.value===void 0?"":o.value.value.type,()=>{c===void 0||o.value===void 0||(c.update(o.value.value.value),_())}),Vt(()=>{l.value!==void 0&&(c=new Ii(l.value,{mode:"code",onChange:()=>f()}),c.aceEditor.setOptions({maxLines:100}),c.aceEditor.resize(),o.value!==void 0&&c.update(o.value.value.value))}),gi(()=>{c!==void 0&&c.destroy()}),(p,O)=>(h(),D("div",{id:"editor",ref_key:"editor_ref",ref:l,onFocus:d},null,544))}}),zf={class:"form-group"},Kf={class:"d-block"},Gf=["value","disabled"],Yf=["value"],qf=se({__name:"MathUnaryOperatorDropDownParam",props:{param:{},name:{},updateValue:{type:Function}},setup(s){const e=s,t=le();function n(i){const a=i.target;o.value=a.value;let l=e.param.value.value;l.operator=o.value,e.updateValue(e.param.value.type,e.param.key,l)}const o=v(e.param.value.value.operator),r=["not","inv","~","neg","-","pos","+","exp","expm1","log","log1p","log10","ceil","fabs","factorial","floor","sqrt","acos","asin","atan","acosh","asinh","atanh","cos","sin","tan","cosh","sinh","tanh","degrees","radians","erf","erfc","gamma","lgamma"];return(i,a)=>(h(),D("div",zf,[u("label",Kf,j(i.param.key),1),u("select",{value:o.value,onChange:n,disabled:g(t).selected_subtree.is_subtree},[(h(),D(ae,null,ce(r,l=>u("option",{key:l,value:l},j(l),9,Yf)),64))],40,Gf)]))}}),Xf={class:"form-group"},Jf={class:"d-block"},Qf=["value","disabled"],Zf=["value"],ep=se({__name:"MathBinaryOperatorDropDownParam",props:{param:{},name:{},updateValue:{type:Function}},setup(s){const e=s,t=le();function n(i){const a=i.target;o.value=a.value;let l=e.param.value.value;l.operator=o.value,e.updateValue(e.param.value.type,e.param.key,l)}const o=v(e.param.value.value.operator),r=["add","+","and","&","div","/","floordiv","//","lshift","<<","mod","%","mul","*","or","|","pow","**","rshift",">>","sub","-","truediv","xor","^"];return(i,a)=>(h(),D("div",Xf,[u("label",Jf,j(i.param.key),1),u("select",{value:o.value,onChange:n,disabled:g(t).selected_subtree.is_subtree},[(h(),D(ae,null,ce(r,l=>u("option",{key:l,value:l},j(l),9,Zf)),64))],40,Qf)]))}}),tp={class:"form-group"},sp={class:"d-block"},np=["value","disabled"],op=["value"],rp=se({__name:"MathOperandTypeDropDownParam",props:{param:{},name:{},updateValue:{type:Function}},setup(s){const e=s,t=le();function n(i){const a=i.target;o.value=a.value;let l=e.param.value.value;l.operator=o.value,e.updateValue(e.param.value.type,e.param.key,l)}const o=v(e.param.value.value.operator),r=["int","float","bool"];return(i,a)=>(h(),D("div",tp,[u("label",sp,j(i.param.key),1),u("select",{value:o.value,onChange:n,disabled:g(t).selected_subtree.is_subtree},[(h(),D(ae,null,ce(r,l=>u("option",{key:l,value:l},j(l),9,op)),64))],40,np)]))}}),ip={class:"form-group"},ap={class:"d-block"},lp=["value","disabled"],cp=["value"],up=se({__name:"MathUnaryOperandTypeDropDownParam",props:{param:{},name:{},updateValue:{type:Function}},setup(s){const e=s,t=le();function n(i){const a=i.target;o.value=a.value;let l=e.param.value.value;l.operator=o.value,e.updateValue(e.param.value.type,e.param.key,l)}const o=v(e.param.value.value.operator),r=["int","float"];return(i,a)=>(h(),D("div",ip,[u("label",ap,j(i.param.key),1),u("select",{value:o.value,onChange:n,disabled:g(t).selected_subtree.is_subtree},[(h(),D(ae,null,ce(r,l=>u("option",{key:l,value:l},j(l),9,cp)),64))],40,lp)]))}}),dp={key:0,class:"list-group-item"},_p={key:0,class:"form-group"},fp={class:"d-block"},pp={key:6,class:"form-group"},vp={class:"d-block"},hp={key:1},mp=se({__name:"ParamInputs",props:{category:{},data_key:{}},setup(s){const e=s,t=Ve(),n=le(),o=re(()=>t.new_node_options.find(d=>d.key===e.data_key)),r=["int","float","bool","string","unset_optionref"],i=re(()=>{if(o.value===void 0||!r.includes(o.value.value.type))return;let d,f,_="any",p=["form-control"],O=!1,T=n.selected_subtree.is_subtree;switch(o.value.value.type){case"int":_=1;case"float":d="number",f=o.value.value.value;break;case"bool":d="checkbox",O=o.value.value.value,p=["form-check-input","d-block"];break;case"unset_optionref":T=!0;case"string":d="text",f=o.value.value.value;break;default:d="hidden";break}return{type:d,value:f,class:p,step:_,checked:O,disabled:T}}),a=re(()=>{if(o.value!==void 0){switch(o.value.value.type){}return{}}});function l(d){if(o.value===void 0)return;const f=d.target;let _;switch(o.value.value.type){case"int":_=parseInt(f.value),isNaN(_)&&(_=0);break;case"float":_=parseFloat(f.value),isNaN(_)&&(_=0);break;case"bool":_=f.checked;break;default:_=f.value;break}t.updateParamValue(e.category,e.data_key,_)}function c(){t.changeCopyMode(!1)}return(d,f)=>o.value!==void 0?(h(),D("div",dp,[i.value!==void 0?(h(),D("div",_p,[u("label",fp,j(o.value.key),1),u("input",Kn(i.value,{onChange:l,onFocus:c}),null,16)])):o.value.value.type==="type"?(h(),q(Uf,{key:1,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):o.value.value.type==="ros_bt_py.helpers.MathUnaryOperator"?(h(),q(qf,{key:2,param:o.value,name:d.category,updateValue:g(t).updateParamValue},null,8,["param","name","updateValue"])):o.value.value.type==="ros_bt_py.helpers.MathBinaryOperator"?(h(),q(ep,{key:3,param:o.value,name:d.category,updateValue:g(t).updateParamValue},null,8,["param","name","updateValue"])):o.value.value.type==="ros_bt_py.helpers.MathOperandType"?(h(),q(rp,{key:4,param:o.value,name:d.category,updateValue:g(t).updateParamValue},null,8,["param","name","updateValue"])):o.value.value.type==="ros_bt_py.helpers.MathUnaryOperandType"?(h(),q(up,{key:5,param:o.value,name:d.category,updateValue:g(t).updateParamValue},null,8,["param","name","updateValue"])):(h(),D("div",pp,[u("label",vp,[Se(j(o.value.key)+" ",1),z(Bf,Kn(a.value,{category:e.category,data_key:e.data_key}),null,16,["category","data_key"])])]))])):(h(),D("div",hp," Error loading param data "))}}),gp={key:0,class:"list-group-item"},yp={key:0},bp={className:"text-muted"},Ep={key:1},wp={className:"text-muted"},Tp={key:2},Sp={className:"text-muted"},Ap={key:3},kp={className:"text-muted"},Cp={class:"text-muted"},Op={key:4},Np={className:"text-muted"},xp={key:1},Yo=se({__name:"ParamDisplay",props:{category:{},data_key:{}},setup(s){const e=s,t=Ve(),n=re(()=>{switch(e.category){case"inputs":return t.new_node_inputs.find(o=>o.key===e.data_key);case"outputs":return t.new_node_outputs.find(o=>o.key===e.data_key)}});return(o,r)=>n.value!==void 0?(h(),D("div",gp,[n.value.value.type==="int"||n.value.value.type==="float"||n.value.value.type==="string"?(h(),D("div",yp,[u("h5",null,[Se(j(n.value.key+" ")+" ",1),u("span",bp,"(type: "+j(n.value.value.type)+")",1)]),u("span",null,j(n.value.value.value),1)])):n.value.value.type==="type"?(h(),D("div",Ep,[u("h5",null,[Se(j(n.value.key+" ")+" ",1),u("span",wp,"(type: "+j(n.value.value.type)+")",1)]),u("pre",null,j(n.value.value.value),1)])):n.value.value.type==="boolean"?(h(),D("div",Tp,[u("h5",null,[Se(j(n.value.key+" ")+" ",1),u("span",Sp,"(type: "+j(n.value.value.type)+")",1)]),u("pre",null,j(n.value.value.value?"True":"False"),1)])):n.value.value.type==="unset_optionref"?(h(),D("div",Ap,[u("h5",null,[Se(j(n.value.key+" ")+" ",1),u("span",kp,"(type: "+j(n.value.value.type)+")",1)]),u("pre",Cp,j(n.value.value.value),1)])):(h(),D("div",Op,[u("h5",null,[Se(j(n.value.key+" ")+" ",1),u("span",Np,"(type: "+j(n.value.value.type)+")",1)]),u("pre",null,j(JSON.stringify(n.value.value.value,null,2)),1)]))])):(h(),D("div",xp," Error loading param data "))}}),$p={class:"d-flex flex-column"},Dp=["value","disabled"],Lp={class:"d-flex minw0"},Ip={class:"text-muted"},Rp={key:0},Pp=["value","disabled"],Mp=["value"],Fp={class:"mb-2"},Vp={class:"list-group"},Hp={class:"mb-2"},jp={class:"list-group"},Wp={className:"mb-2"},Up={class:"list-group"},ri=se({__name:"EditableNode",setup(s){gt();const e=le(),t=Ve();return(n,o)=>{const r=Re("font-awesome-icon");return h(),D("div",$p,[u("input",{class:"form-control-lg mb-2",type:"text",value:g(t).new_node_name,disabled:g(e).selected_subtree.is_subtree,onFocus:o[0]||(o[0]=()=>g(t).changeCopyMode(!1)),onChange:o[1]||(o[1]=i=>g(t).changeNodeName(i.target.value))},null,40,Dp),u("div",Lp,[u("h4",Ip,[g(t).is_flow_control_node?(h(),D("select",{key:1,class:"custom-select",value:g(t).new_node_module+g(t).new_node_class,disabled:g(e).selected_subtree.is_subtree,onChange:o[2]||(o[2]=i=>g(t).changeNodeClass(i.target.value))},[(h(!0),D(ae,null,ce(g(t).flow_control_nodes,i=>(h(),D("option",{key:i.module+i.node_class,value:i.module+i.node_class},j(i.node_class)+" ("+j(i.module)+") ",9,Mp))),128))],40,Pp)):(h(),D("div",Rp,j(g(t).new_node_class)+" ("+j(g(t).new_node_module)+") ",1))]),g(t).reference_node?(h(),q(r,{key:0,icon:"fa-solid fa-question-circle",class:"pl-2 pr-2","aria-hidden":"true",title:g(oi)(g(t).reference_node.doc)},null,8,["title"])):Ae("",!0)]),u("div",Fp,[o[3]||(o[3]=u("h5",null,"Options",-1)),u("div",Vp,[(h(!0),D(ae,null,ce(g(t).new_node_options,i=>(h(),q(mp,{key:"option_"+i.key,data_key:i.key,category:"options"},null,8,["data_key"]))),128))])]),u("div",Hp,[o[4]||(o[4]=u("h5",null,"Input",-1)),u("div",jp,[(h(!0),D(ae,null,ce(g(t).new_node_inputs,i=>(h(),q(Yo,{key:"input_"+i.key,data_key:i.key,category:"inputs"},null,8,["data_key"]))),128))])]),u("div",Wp,[o[5]||(o[5]=u("h5",null,"Output",-1)),u("div",Up,[(h(!0),D(ae,null,ce(g(t).new_node_outputs,i=>(h(),q(Yo,{key:"output_"+i.key,data_key:i.key,category:"outputs"},null,8,["data_key"]))),128))])])])}}}),Bp={class:"d-flex flex-column"},zp=["disabled"],Kp={class:"pt-2 pb-2"},Gp=["disabled","value"],Yp=["value"],qp=se({__name:"NewNode",props:{parents:{}},setup(s){const e=s,t=Ve(),n=he(),o=v(e.parents.length>0?e.parents[0].name:void 0);function r(a,l,c,d){return{module:a,node_class:l,name:c,options:d.map(f=>{const _={key:f.key,serialized_value:"",serialized_type:""};if(f.value.type==="type")es.indexOf(f.value.value)>=0&&(f.value.value="__builtin__."+f.value.value),_.serialized_value=JSON.stringify({"py/type":f.value.value});else if(f.value.type.startsWith("__")){const p=f.value.value;p["py/object"]=f.value.type.substring(2),_.serialized_value=JSON.stringify(f.value.value)}else _.serialized_value=JSON.stringify(f.value.value);return _}),child_names:[],inputs:[],outputs:[],version:"",max_children:0,state:""}}function i(){if(n.connected||k({title:"Service not available!",text:"ROS not connected, cannot call services!",type:"error"}),t.reference_node===void 0){console.error("Undefined node reference, can't add node to tree");return}const a=r(t.reference_node.module,t.new_node_class,t.new_node_name,t.new_node_options);n.add_node_service.callService({parent_name:o.value,node:a,allow_rename:!0},l=>{l.success?(t.clearNodeHasChanged(),console.log("Added node to tree as "+l.actual_node_name),t.editorSelectionChange(l.actual_node_name),k({title:"Added not to tree!",text:"Node added as: "+l.actual_node_name,type:"success"})):k({title:"Failed to add "+a.name+" to the tree!",text:l.error_message,type:"warn"})},l=>{k({title:"Failed to call AddNode service",text:l,type:"error"})})}return(a,l)=>(h(),D("div",Bp,[u("button",{class:"btn btn-block btn-primary",disabled:!g(t).node_is_valid,onClick:i}," Add to Tree ",8,zp),u("label",Kp,[l[0]||(l[0]=Se(" Parent ")),u("select",{class:"custom-select d-block",disabled:a.parents.length===0,value:o.value},[(h(!0),D(ae,null,ce(a.parents,c=>(h(),D("option",{key:c.name,value:c.name},j(c.name),9,Yp))),128))],8,Gp)]),z(ri)]))}}),Xp={class:"d-flex flex-column"},Jp={class:"btn-group d-flex mb-2",role:"group"},Qp=["disabled"],Zp=["disabled"],ev=["disabled"],tv=se({__name:"SelectedNode",setup(s){const e=he(),t=le();gt();const n=Ve();function o(){return{module:n.new_node_module,node_class:n.new_node_class,name:n.new_node_name,options:n.new_node_options.map(c=>{const d={key:c.key,serialized_value:"",serialized_type:""};if(c.value.type==="type")es.indexOf(c.value.value)>=0&&(c.value.value="__builtin__."+c.value.value),d.serialized_value=JSON.stringify({"py/type":c.value.value});else if(c.value.type.startsWith("__")){const f=c.value.value;f["py/object"]=c.value.type.substring(2),d.serialized_value=JSON.stringify(c.value.value)}else d.serialized_value=JSON.stringify(c.value.value);return d}),inputs:[],outputs:[],max_children:0,child_names:[],version:"",state:""}}function r(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+"?")&&e.remove_node_service.callService({node_name:n.selected_node.name,remove_children:!1},c=>{c.success?(k({title:"Removed "+n.selected_node.name+" successfully!",type:"success"}),n.clearSelection()):k({title:"Failed to remove node "+n.selected_node.name+"!",text:c.error_message,type:"error"})})}function i(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+" and all of its children?")&&e.remove_node_service.callService({node_name:n.selected_node.name,remove_children:!0},c=>{c.success?(k({title:"Removed "+n.selected_node.name+" and its children successfully!",type:"success"}),n.clearSelection()):k({title:"Failed to remove node "+n.selected_node.name+"!",text:c.error_message,type:"error"})})}function a(){if(n.selected_node===void 0){console.error("Can't update a node that doesn't exist");return}e.set_options_service.callService({node_name:n.selected_node.name,rename_node:!0,new_name:n.new_node_name,options:n.new_node_options.map(c=>{const d={key:c.key,serialized_value:""};if(c.value.type==="type")es.indexOf(c.value.value)>=0&&(c.value.value="__builtin__."+c.value.value),d.serialized_value=JSON.stringify({"py/type":c.value.value});else if(c.value.type.startsWith("__")){const f=c.value.value;f["py/object"]=c.value.type.substring(2),d.serialized_value=JSON.stringify(f)}else d.serialized_value=JSON.stringify(c.value.value);return d})},c=>{c.success?(k({title:"Updated node "+n.new_node_name+" successfully!",type:"success"}),n.clearNodeHasChanged(),n.editorSelectionChange(n.new_node_name)):k({title:"Failed to update node "+n.selected_node.name+"!",text:c.error_message,type:"error"})})}function l(){if(n.node_is_morphed){const c=o();if(n.selected_node===void 0){console.error("Can't morph a node that doesn't exist");return}e.morph_node_service.callService({node_name:n.selected_node.name,new_node:c},d=>{d.success?(k({title:"Morphed node "+n.selected_node.name+" successfully!",type:"success"}),n.node_is_morphed=!1,a()):k({title:"Failed to morph node "+n.selected_node.name+"!",text:d.error_message,type:"error"})})}else a()}return(c,d)=>(h(),D("div",Xp,[u("div",Jp,[u("button",{class:"btn btn-primary w-30",onClick:l,disabled:!g(n).node_is_valid||g(t).selected_subtree.is_subtree}," Update Node ",8,Qp),u("button",{class:"btn btn-danger w-35",onClick:r,disabled:g(t).selected_subtree.is_subtree}," Delete Node ",8,Zp),u("button",{class:"btn btn-danger w-35",onClick:i,disabled:g(t).selected_subtree.is_subtree}," Delete Node + Children ",8,ev)]),z(ri)]))}}),sv={class:"d-flex align-items-center my-2"},nv={class:"input-group me-1"},ov=["disabled","value"],rv=["disabled"],iv={class:"input-group ms-1",style:{width:"fit-content"}},av=["value"],lv=se({__name:"TreeNameStateDisplay",setup(s){const e=le(),t=he(),n=re(()=>e.tree?e.tree.name:""),o=v(n.value),r=re(()=>e.tree?e.tree.state:"UNKNOWN");function i(){console.log(o.value),t.change_tree_name_service.callService({name:o.value},a=>{a.success?k({title:"Successfully renamed tree!",text:o.value,type:"success"}):k({title:"Failed to rename tree!",text:a.error_message,type:"warn"})},a=>{k({title:"Failed to call ChangeTreeName service!",text:a,type:"error"})})}return(a,l)=>(h(),D("div",sv,[u("div",nv,[l[1]||(l[1]=u("label",{class:"input-group-text",for:"treeNameForm"}," Name ",-1)),u("input",{id:"treeNameForm",class:"form-control",type:"text",disabled:g(e).selected_subtree.is_subtree,value:n.value,onInput:l[0]||(l[0]=c=>o.value=c.target.value)},null,40,ov),u("button",{class:"btn btn-primary",disabled:g(e).selected_subtree.is_subtree,onClick:i}," Save ",8,rv)]),u("div",iv,[l[2]||(l[2]=u("label",{class:"input-group-text",for:"treeStateForm"}," State ",-1)),u("input",{id:"treeStateForm",class:"form-control",type:"text",disabled:"true",value:r.value},null,8,av)])]))}}),cv={class:"d-flex align-items-center"},uv={class:"btn-group"},dv=se({__name:"EditorDisplayButtons",props:{execBarVisible:{type:Boolean}},emits:["show","hide"],setup(s,{emit:e}){const t=s,n=e,o=le();return(r,i)=>{const a=Re("font-awesome-icon");return h(),D("div",cv,[u("div",uv,[u("button",{class:"btn btn-primary",onClick:i[0]||(i[0]=l=>g(o).enableShowDataGraph(!g(o).show_data_graph)),title:"Toggle Data Graph"},[z(a,{class:Oe(g(o).show_data_graph?"text-white":"text-white-50"),icon:"fa-solid fa-route"},null,8,["class"])]),t.execBarVisible?(h(),D("button",{key:0,class:"btn btn-primary btn-spaced",onClick:i[1]||(i[1]=l=>n("hide")),title:"Hide User Interface"},[z(a,{icon:"fa-solid fa-window-maximize"})])):(h(),D("button",{key:1,class:"btn btn-primary btn-spaced",onClick:i[2]||(i[2]=l=>n("show")),title:"Show User Interface"},[z(a,{icon:"fa-solid fa-window-restore"})])),u("button",{class:"btn btn-primary btn-spaced",onClick:i[3]||(i[3]=()=>g(o).is_layer_mode=!g(o).is_layer_mode),title:"Change tree layout (layers/subtrees)"},[z(a,{class:Oe(g(o).is_layer_mode?"text-white":"text-white-50"),icon:"fa-solid fa-layer-group"},null,8,["class"]),z(a,{class:Oe(g(o).is_layer_mode?"text-white-50":"text-white"),icon:"fa-solid fa-tree"},null,8,["class"])]),u("button",{class:"btn btn-primary btn-spaced",onClick:i[4]||(i[4]=(...l)=>g(o).cycleEditorSkin&&g(o).cycleEditorSkin(...l)),title:"Change editor appearance"},[z(a,{class:Oe(g(o).skin===g(Ns).DARK?"text-white":"text-white-50"),icon:"fa-solid fa-moon"},null,8,["class"]),z(a,{class:Oe(g(o).skin===g(Ns).LIGHT?"text-white":"text-white-50"),icon:"fa-solid fa-sun"},null,8,["class"])])])])}}}),_v={class:"fs-1 mb-3 mt-4 mx-4"},fv={key:0,class:"mx-4 mb-4"},pv={class:"input-group mb-3"},vv={class:"input-group-text"},hv=["disabled"],mv={key:0,class:"d-grid overflow-auto",style:{"max-height":"70vh"}},gv=["onClick"],yv={key:1},bv={class:"input-group mb-3"},Ev=["disabled"],wv=["onClick"],Tv={class:"d-grid overflow-auto",style:{"max-height":"50vh"}},Sv=["onClick"],Av={key:2},kv={key:1},ii=se({__name:"FileBrowser",props:{location:{},title:{},search_term:{},fromPackages:{type:Boolean},file_filter:{}},emits:["location","select","close"],setup(s,{emit:e}){const t=s,n=e,o=he(),r=Hs(),i=v(null),a=v([]),l=v(""),c=v(new Ue([],{keys:["package","path"]})),d=re(()=>{let S;return t.fromPackages?l.value===""?S=r.packages:S=r.packages_fuse.search(l.value).map(L=>L.item):l.value===""?S=a.value:S=c.value.search(l.value).map(L=>L.item),S.sort((L,N)=>L.package.localeCompare(N.package))}),f=re(()=>t.fromPackages&&r.packages_available||a.value.length>0),_=v(null),p=v(null),O=v(new Ue([],{keys:["data.name"]})),T=re(()=>{var L;let S=[];return t.search_term===""?S=((L=_.value)==null?void 0:L.children)||[]:S=O.value.search(t.search_term).map(N=>N.item),S=S.filter(N=>{switch(N.data.type){case Xe.DIR:return!0;case Xe.FILE:return t.file_filter===void 0?!0:t.file_filter.test(N.data.name);default:return!1}}),S.sort((N,P)=>N.data.type===P.data.type?N.data.name.localeCompare(P.data.name):N.data.type===Xe.DIR?-1:1)});function y(){o.get_storage_folders_service.callService({},S=>{a.value=S.storage_folders.map(L=>({package:L,path:L})),c.value.setCollection(a.value)},S=>{k({title:"Failed to call GetStorageFolders service!",text:S,type:"error"})})}function I(S){_.value=Li(JSON.parse(S)),O.value.setCollection(_.value.children||[])}function R(){o.get_folder_structure_service.callService({storage_folder:i.value.package,show_hidden:!0},S=>{S.success?I(S.storage_folder_structure):k({title:"Error when calling GetFolderStructure service!",text:S.error_message,type:"warn"})},S=>{k({title:"Failed to call GetFolderStructure service!",text:S,type:"error"})})}function E(){o.get_package_structure_service.callService({package:i.value.package,show_hidden:!0},S=>{S.success?I(S.package_structure):k({title:"Error when calling GetPackageStructure service!",text:S.error_message,type:"error"})},S=>{k({title:"Failed to call GetPackageStructure service!",text:S,type:"error"})})}function $(S){S===null?(i.value=null,l.value="",_.value=null,p.value=null,n("location",""),n("select",[],!0)):(i.value=S,l.value=S.package,t.fromPackages?E():R(),n("location",S.path))}function F(S){switch(S.data.type){case Xe.DIR:_.value=S,O.value.setCollection(S.children||[]);break;case Xe.FILE:p.value=S;break}n("select",S.ancestors().slice(0,-1).reverse().map(L=>L.data.name),S.data.type===Xe.DIR)}return Vt(()=>{t.fromPackages||y()}),(S,L)=>{const N=Re("font-awesome-icon");return h(),D(ae,null,[u("button",{class:"btn float-end",onClick:L[0]||(L[0]=P=>n("close"))},[z(N,{class:"fa-3x",style:{opacity:"0.1"},icon:"fa-solid fa-xmark"})]),u("h1",_v,j(t.title),1),f.value?(h(),D("div",fv,[u("div",pv,[u("span",vv,j(t.location)+": ",1),xt(u("input",{"onUpdate:modelValue":L[1]||(L[1]=P=>l.value=P),disabled:i.value!==null,type:"text",class:"form-control"},null,8,hv),[[Tn,l.value]]),u("button",{onClick:L[2]||(L[2]=P=>$(null)),class:"btn btn-outline-secondary"},[z(N,{icon:"fa-solid fa-xmark"})])]),i.value===null?(h(),D("div",mv,[(h(!0),D(ae,null,ce(d.value,P=>(h(),D("button",{key:P.path,onClick:U=>$(P),class:"btn btn-outline-contrast ms-4 mb-3 text-start"},[z(N,{icon:"fa-solid fa-cubes",class:"me-1"}),Se(" "+j(P.package),1)],8,gv))),128))])):_.value!==null?(h(),D("div",yv,[Zo(S.$slots,"default",{},()=>[L[4]||(L[4]=Se("Control Buttons, Selects, ..."))]),u("div",bv,[u("button",{disabled:_.value.parent===null,onClick:L[3]||(L[3]=P=>F(_.value.parent)),class:"btn btn-outline-secondary"},[z(N,{icon:"fa-solid fa-angle-up"})],8,Ev),(h(!0),D(ae,null,ce(_.value.ancestors().slice(0,-1).reverse(),P=>(h(),D("button",{key:P.data.item_id,onClick:U=>F(P),class:"btn btn-outline-secondary"},j(P.data.name),9,wv))),128))]),u("div",Tv,[(h(!0),D(ae,null,ce(T.value,P=>{var U;return h(),D("button",{key:P.data.item_id,onClick:J=>F(P),class:Oe(["btn btn-outline-contrast ms-4 mb-3 text-start",{active:P.data.item_id===((U=p.value)==null?void 0:U.data.item_id)}])},[P.data.type===g(Xe).DIR?(h(),q(N,{key:0,icon:"fa-solid fa-folder-open",style:{width:"20px"}})):Ae("",!0),P.data.type===g(Xe).FILE?(h(),q(N,{key:1,icon:"fa-solid fa-file-code",style:{width:"20px"}})):Ae("",!0),Se(" "+j(P.data.name),1)],10,Sv)}),128))])])):(h(),D("div",Av," Loading content of storage location "))])):(h(),D("div",kv," Loading possible storage locations "))],64)}}}),Cv={class:"d-flex justify-content-between mb-3"},Ov=["disabled"],Nv=["value"],xv=["value"],$v={class:"input-group mb-3"};var ai=(s=>(s.ASK="Ask before overwrite",s.OVERWRITE="Overwrite file",s.RENAME="Rename file",s))(ai||{});const Dv=se({__name:"SaveFileModal",emits:["close"],setup(s,{emit:e}){const t=e,n=he(),o=le(),r=new RegExp(".(yaml)"),i=v(r),a=v(""),l=v([]),c=v(!0),d=v(""),f=re(()=>c.value?[...l.value,d.value].join("/"):[...l.value.slice(0,-1),d.value].join("/"));function _(T,y){l.value=T,c.value=y,y?d.value="":d.value=T[T.length-1]}const p=v("Ask before overwrite");function O(){if(!r.test(f.value)){console.error("Path is of improper format: ",f);return}if(o.tree===void 0){console.error("No tree to save");return}let T,y;switch(p.value){case"Ask before overwrite":T=!1,y=!1;break;case"Overwrite file":T=!0,y=!1;break;case"Rename file":T=!1,y=!0;break;default:console.warn("Improper state for name conflict resolution strategy"),T=!1,y=!1;break}const I={storage_path:a.value,filepath:f.value,tree:o.tree,allow_overwrite:T,allow_rename:y};n.save_tree_service.callService(I,R=>{if(R.success)k({title:"Successfully saved tree!",text:R.file_path,type:"success"}),t("close");else{if(p.value!=="Ask before overwrite"||R.error_message!=="Overwrite not allowed"){k({title:"Failed to save tree!",text:R.error_message,type:"warn"});return}if(!window.confirm("Do you want to overwrite '"+a.value+"/"+f.value+"' ?")){k({title:"Failed to save tree!",text:"Rejected overwrite confirmation",type:"warn"});return}I.allow_overwrite=!0,I.allow_rename=!1,n.save_tree_service.callService(I,E=>{E.success?(k({title:"Successfully saved tree!",text:E.file_path,type:"success"}),t("close")):k({title:"Failed to save tree!",text:E.error_message,type:"warn"})},E=>{k({title:"Failed to call SaveTree service!",text:E,type:"error"})})}},R=>{k({title:"Failed to call SaveTree service!",text:R,type:"error"})})}return(T,y)=>(h(),q(g(wn),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:Qt(()=>[z(ii,{location:"Folder",title:"Save Tree to Folder",onClose:y[3]||(y[3]=I=>t("close")),file_filter:i.value,search_term:d.value,onLocation:y[4]||(y[4]=I=>a.value=I),onSelect:y[5]||(y[5]=(I,R)=>_(I,R))},{default:Qt(()=>[u("div",Cv,[u("button",{class:"btn btn-primary me-2",onClick:O,disabled:!g(r).test(d.value)}," Save ",8,Ov),xt(u("select",{"onUpdate:modelValue":y[0]||(y[0]=I=>i.value=I),class:"form-select me-2"},[u("option",{value:g(r)},"Valid files",8,Nv),y[6]||(y[6]=u("option",{value:void 0},"All files",-1))],512),[[_n,i.value]]),xt(u("select",{"onUpdate:modelValue":y[1]||(y[1]=I=>p.value=I),class:"form-select"},[(h(!0),D(ae,null,ce(Object.values(ai),I=>(h(),D("option",{value:I},j(I),9,xv))),256))],512),[[_n,p.value]])]),u("div",$v,[y[7]||(y[7]=u("span",{class:"input-group-text"}," Name: ",-1)),xt(u("input",{"onUpdate:modelValue":y[2]||(y[2]=I=>d.value=I),type:"text",class:"form-control"},null,512),[[Tn,d.value]])])]),_:1},8,["file_filter","search_term"])]),_:1}))}}),Lv={class:"d-flex justify-content-between mb-3"},Iv=["disabled"],Rv=["value"],Pv={class:"input-group"},qo=se({__name:"LoadFileModal",props:{fromPackages:{type:Boolean}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=he(),r=[],i=new RegExp(".(yaml)"),a=v(i),l=v(""),c=v([]),d=v(!0),f=v(""),_=re(()=>(t.fromPackages?"package":"file")+"://"+l.value+"/"+c.value.join("/"));function p(T,y){c.value=T,d.value=y,y&&(f.value="")}function O(){o.load_tree_from_path_service.callService({path:_.value,permissive:!1},T=>{if(T.success)k({title:"Successfully loaded tree!",text:_.value,type:"success"}),n("close");else{if(k({title:"Error while calling LoadTree service!",text:T.error_message,type:"warn"}),!r.includes(T.error_message))return;if(!window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!")){k({title:"Error while calling LoadTree service!",text:"Loading in permissive mode was rejected.",type:"warn"});return}o.load_tree_from_path_service.callService({path:_.value,permissive:!0},y=>{y.success?(k({title:"Successfully loaded tree in permissive mode!",text:_.value,type:"success"}),n("close")):k({title:"Error while calling LoadTree service in permissive mode!",text:y.error_message,type:"warn"})},y=>{k({title:"Failed to call LoadTree service!",text:y,type:"error"})})}},T=>{k({title:"Failed to call LoadTree service!",text:T,type:"error"})})}return(T,y)=>(h(),q(g(wn),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:Qt(()=>[z(ii,{onClose:y[2]||(y[2]=I=>n("close")),file_filter:a.value,"from-packages":t.fromPackages,title:"Load Tree from "+(t.fromPackages?"Package":"Folder"),location:t.fromPackages?"Package":"Folder",search_term:f.value,onLocation:y[3]||(y[3]=I=>l.value=I),onSelect:y[4]||(y[4]=(I,R)=>p(I,R))},{default:Qt(()=>[u("div",Lv,[u("button",{class:"btn btn-primary me-2",disabled:d.value,onClick:O}," Load ",8,Iv),xt(u("select",{"onUpdate:modelValue":y[0]||(y[0]=I=>a.value=I),class:"form-select me-2 w-50"},[u("option",{value:g(i)},"Valid files",8,Rv),y[5]||(y[5]=u("option",{value:void 0},"All files",-1))],512),[[_n,a.value]]),u("div",Pv,[y[6]||(y[6]=u("span",{class:"input-group-text"}," Search: ",-1)),xt(u("input",{"onUpdate:modelValue":y[1]||(y[1]=I=>f.value=I),type:"text",class:"form-control"},null,512),[[Tn,f.value]])])])]),_:1},8,["file_filter","from-packages","title","location","search_term"])]),_:1}))}}),Mv={class:"btn-group"},Fv={class:"btn-group btn-spaced",role:"group"},Vv={id:"btnGroupDrop1",type:"button",class:"btn btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false"},Hv={class:"dropdown-menu","aria-labelledby":"btnGroupDrop1"},jv=se({__name:"LoadSaveControls",setup(s){const e=he(),t=le(),n=v(),o=new FileReader,r=Us({component:qo,attrs:{fromPackages:!0,onClose(){r.close()}}}),i=Us({component:qo,attrs:{fromPackages:!1,onClose(){i.close()}}}),a=Us({component:Dv,attrs:{onClose(){a.close()}}});function l(){if(e.clear_tree_service===void 0){k({title:"Service not available!",text:"ClearTree ROS service not available.",type:"error"});return}window.confirm("Do you want to create a new tree? Warning: This will discard the tree that is loaded at the moment.")&&e.clear_tree_service.callService({},R=>{R.success?(console.log("called ClearTree service successfully"),k({title:"Created new tree successfully!",type:"success"})):k({title:"Could not create new tree!",type:"warn",text:R.error_message})},R=>{k({title:"ClearTree service call failed!",type:"error",text:R})})}function c(){r.open()}function d(){i.open()}function f(){if(e.control_tree_execution_service===void 0){k({title:"Service not available!",text:"ControlTreeExecution ROS service is not connected.",type:"error"});return}t.runNewCommand(_e.SHUTDOWN),e.control_tree_execution_service.callService({command:_e.SHUTDOWN},R=>{t.removeRunningCommand(_e.SHUTDOWN),R.success?(k({title:"Tree shutdown successful!",type:"success"}),a.open()):k({title:"Failed to shutdown tree, cannot save now!",text:R.error_message,type:"warn"})},R=>{k({title:"Calling ControlTreeExecution ROS service failed!",text:R,type:"error"})})}function _(R,E){const $=document.createElement("a");$.download=E,$.href=R,document.body.appendChild($),$.click(),document.body.removeChild($)}function p(R){const E=R.target;if(o.onloadend=y,E.files===null){k({title:"File selection is null!",type:"error"});return}o.readAsText(E.files[0])}function O(){if(n.value===void 0){console.error("Fileref is undefined!");return}n.value.click()}function T(R){if(e.load_tree_service===void 0){k({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:R,permissive:!1},E=>{if(E.success)k({title:"Loaded tree successfully!",type:"success"});else{if((E.error_message.startsWith("Expected data to be of type type, got dict instead. Looks like failed jsonpickle decode,")||E.error_message.startsWith("AttributeError, maybe a ROS Message definition changed."))&&(k({title:"Loaded tree has invalid input/output/option typings!",type:"warn"}),window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!"))){if(e.load_tree_service===void 0){k({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:R,permissive:!0},$=>{$.success?k({title:"Loaded tree successfully!",type:"success"}):k({title:"Failed to load tree!",text:$.error_message,type:"warn"})},$=>{k({title:"Failed to call load tree service!",text:$,type:"error"})})}k({title:"Failed to load tree!",text:E.error_message,type:"error"})}},E=>{k({title:"Failed to call load tree service!",text:E,type:"error"})})}function y(){let R=[];try{if(o.result===null){k({title:"Content of selected reads as null!",type:"error"});return}const E=o.result;R=Bs.loadAll(E);let $=null;for(let F=0;F<R.length;F++)R[F]!=null&&($=R[F]);T($)}catch{if(e.fix_yaml_service===void 0){k({title:"Service is unavailable!",text:"FixYaml service is not connected!",type:"error"});return}e.fix_yaml_service.callService({broken_yaml:o.result},$=>{if($.success){R=Bs.loadAll($.fixed_yaml);let F=null;for(let S=0;S<R.length;S++)R[S]!=null&&(F=R[S]);T(F)}},$=>{k({title:"Failed to call FixYaml service!",text:$,type:"error"})})}}function I(){if(!e.connected){k({title:"Service not available!",text:"ControlTreeExecution ROS service is not connected.",type:"error"});return}t.runNewCommand(_e.SHUTDOWN),e.control_tree_execution_service.callService({command:_e.SHUTDOWN},R=>{if(R.success){k({title:"Tree shutdown successful!",type:"success"});const E=t.tree;if(E===void 0){k({title:"Tree is undefined, cannot save!",type:"error"});return}for(const F in E.nodes){for(const S in E.nodes[F].inputs)E.nodes[F].inputs[S].serialized_value="null";for(const S in E.nodes[F].outputs)E.nodes[F].outputs[S].serialized_value="null"}const $=Bs.dump(E);_("data:text/plain,"+encodeURIComponent($),"tree.yaml")}else k({title:"Failed to shutdown tree, cannot save now!",text:R.error_message,type:"error"})},R=>{k({title:"Calling ControlTreeExecution ROS service failed!",text:R,type:"error"})})}return(R,E)=>{const $=Re("font-awesome-icon");return h(),D("div",Mv,[u("button",{onClick:E[0]||(E[0]=()=>l()),class:"btn btn-primary",title:"New tree"},[z($,{icon:"fa-solid fa-file","aria-hidden":"true"}),E[6]||(E[6]=u("span",{class:"ms-1 hide-button-text"},"New",-1))]),u("div",Fv,[u("button",Vv,[z($,{icon:"fa-solid fa-folder","aria-hidden":"true"}),E[7]||(E[7]=u("span",{class:"ms-1 hide-button-text"},"Load",-1))]),u("ul",Hv,[u("li",null,[u("button",{onClick:E[1]||(E[1]=()=>c()),class:"dropdown-item btn btn-primary",title:"Load from package"},[z($,{icon:"fa-solid fa-folder-tree","aria-hidden":"true"}),E[8]||(E[8]=u("span",{class:"ms-1"},"Package",-1))])]),u("li",null,[u("button",{onClick:E[2]||(E[2]=()=>d()),class:"dropdown-item btn btn-primary",title:"Load from file"},[z($,{icon:"fa-solid fa-folder-open","aria-hidden":"true"}),E[9]||(E[9]=u("span",{className:"ms-1"},"File",-1))])])])]),u("button",{onClick:E[3]||(E[3]=()=>f()),class:"btn btn-primary btn-spaced",title:"Save to remote"},[z($,{icon:"fa-solid fa-save","aria-hidden":"true"}),E[10]||(E[10]=u("span",{class:"ms-1 hide-button-text"},"Save",-1))]),u("input",{ref_key:"file_input_ref",ref:n,type:"file",class:"file_input_ref",onChange:p},null,544),u("button",{onClick:E[4]||(E[4]=()=>O()),class:"btn btn-primary btn-spaced",title:"Upload"},[z($,{icon:"fa-solid fa-file-upload","aria-hidden":"true"}),E[11]||(E[11]=u("span",{class:"ms-1 hide-button-text"},"Upload",-1))]),u("button",{onClick:E[5]||(E[5]=()=>I()),class:"btn btn-primary btn-spaced",title:"Download"},[z($,{icon:"fa-solid fa-file-download","aria-hidden":"true"}),E[12]||(E[12]=u("span",{class:"ms-1 hide-button-text"},"Download",-1))])])}}});const Wv={class:"d-flex align-items-center"},Uv={key:"connection_status_connected"},Bv={key:"connection_status_package"},zv={key:"connection_status_message"},Kv={key:"connection_status_disconnected"},Gv={class:"d-flex flex-row align-items-center"},Yv=["value"],qv=["value"],Xv={key:4,className:"d-flex flex-row align-items-center"},Jv={class:"input-group"},Qv=["value"],Zv=se({__name:"NamespaceSelect",setup(s){const e=he(),t=is(),n=Hs();let o=v(!1),r=v(e.url);function i(f){const _=f.target;e.changeNamespace(_.value)}function a(){if(e.services_for_type_service===void 0){k({title:"Service not available!",text:"ServiceForType ROS service is not connected!",type:"error"});return}e.services_for_type_service.callService({type:"ros_bt_py_interfaces/srv/AddNode"},f=>{const _=f.services.map(p=>p.substring(0,p.lastIndexOf("/"))+"/");_.length>0&&(e.setAvailableNamespaces(_),e.namespace===""&&e.changeNamespace(_[0]))})}function l(){o.value=!o.value}function c(f){const _=f.target;r.value=_.value}function d(){e.setUrl(r.value),e.connect()}return Vt(a),(f,_)=>{const p=Re("font-awesome-icon");return h(),D("div",Wv,[g(e).connected&&g(n).packages_available&&g(t).messages_available?(h(),D("div",Uv,[z(p,{icon:"fa-solid fa-wifi","aria-hidden":"true",class:"connected",title:"Connected"})])):g(e).connected&&g(t).messages_available?(h(),D("div",Bv,[z(p,{icon:"fa-solid fa-wifi","aria-hidden":"true",class:"packages-missing",title:"Connected, package list not (yet) available. File browser will not work."})])):g(e).connected?(h(),D("div",zv,[z(p,{icon:"fa-solid fa-wifi","aria-hidden":"true",class:"messages-missing",title:"Connected, message info not (yet) available. ROS-type autocompletion will not work."})])):(h(),D("div",Kv,[z(p,{icon:"fa-solid fa-wifi","aria-hidden":"true",class:"disconnected",title:"Disconnected"})])),u("div",Gv,[_[0]||(_[0]=u("label",{class:"ms-1"},"Namespace:",-1)),u("select",{class:"form-select ms-1",value:g(e).namespace,onChange:i},[(h(!0),D(ae,null,ce(g(e).available_namespaces,O=>(h(),D("option",{key:O,value:O},j(O),9,qv))),128))],40,Yv)]),u("button",{type:"button",class:"btn btn-sm m-1",onClick:a},[z(p,{icon:"fa-solid fa-sync","aria-hidden":"true"}),_[1]||(_[1]=u("span",{class:"sr-only"},"Refresh Namespaces",-1))]),u("button",{type:"button",class:"btn btn-sm m-1",onClick:l},[z(p,{icon:"fa-solid fa-cog","aria-hidden":"true"}),_[2]||(_[2]=u("span",{class:"sr-only"},"Edit rosbridge server",-1))]),g(o)?(h(),D("div",Xv,[u("div",Jv,[_[3]||(_[3]=u("label",{class:"input-group-text"},"Rosbridge Server:",-1)),u("input",{class:"form-control",type:"text",placeholder:"Websocket URL","aria-describedby":"websocketURL","aria-label":"Websocket URL",value:g(r),onChange:c},null,40,Qv),u("button",{type:"button",onClick:d,class:"btn btn-primary"},"Save")])])):Ae("",!0)])}}});const eh={class:"btn-group"},th=se({__name:"TickControls",setup(s){const e=le(),t=he();function n(o){if(!t.connected){k({title:"Service not available!",text:"ControlTreeExection service is not connected.",type:"error"});return}e.runNewCommand(o),t.control_tree_execution_service.callService({command:o},r=>{e.removeRunningCommand(o),r.success?k({title:"Running tree command",type:"success"}):k({title:"Running the tree command failed!",type:"error",text:r.error_message})})}return(o,r)=>{const i=Re("font-awesome-icon");return h(),D("div",eh,[u("button",{onClick:r[0]||(r[0]=()=>n(g(_e).TICK_ONCE)),class:"btn btn-primary",title:"Tick Once"},[g(e).running_commands.has(g(_e).TICK_ONCE)?(h(),q(i,{key:0,icon:"fas fa-check",spin:"","aria-hidden":"true"})):(h(),q(i,{key:1,icon:"fas fa-check","aria-hidden":"true"})),r[6]||(r[6]=u("span",{class:"ms-1 hide-button-text-control"},"Tick Once",-1))]),u("button",{onClick:r[1]||(r[1]=()=>n(g(_e).TICK_PERIODICALLY)),class:"btn btn-primary btn-spaced",title:"Tick Periodically"},[g(e).running_commands.has(g(_e).TICK_PERIODICALLY)?(h(),q(i,{key:0,icon:"fas fa-sync",spin:"","aria-hidden":"true"})):(h(),q(i,{key:1,icon:"fas fa-sync","aria-hidden":"true"})),r[7]||(r[7]=u("span",{class:"ms-1 hide-button-text-control"}," Tick Periodically ",-1))]),u("button",{onClick:r[2]||(r[2]=()=>n(g(_e).TICK_UNTIL_RESULT)),class:"btn btn-primary btn-spaced",title:"Tick Until Result"},[g(e).running_commands.has(g(_e).TICK_UNTIL_RESULT)?(h(),q(i,{key:0,icon:"fas fa-play",spin:"","aria-hidden":"true"})):(h(),q(i,{key:1,icon:"fas fa-play","aria-hidden":"true"})),r[8]||(r[8]=u("span",{class:"ms-1 hide-button-text-control"}," Tick Until Result ",-1))]),u("button",{onClick:r[3]||(r[3]=()=>n(g(_e).STOP)),class:"btn btn-primary btn-spaced",title:"Stop"},[g(e).running_commands.has(g(_e).STOP)?(h(),q(i,{key:0,icon:"fas fa-stop",spin:"","aria-hidden":"true"})):(h(),q(i,{key:1,icon:"fas fa-stop","aria-hidden":"true"})),r[9]||(r[9]=u("i",{class:"{stop_classes}"},null,-1)),r[10]||(r[10]=u("span",{class:"ms-1 hide-button-text-control"},"Stop",-1))]),u("button",{onClick:r[4]||(r[4]=()=>n(g(_e).RESET)),class:"btn btn-primary btn-spaced",title:"Reset"},[g(e).running_commands.has(g(_e).RESET)?(h(),q(i,{key:0,icon:"fas fa-undo",spin:"","aria-hidden":"true"})):(h(),q(i,{key:1,icon:"fas fa-undo","aria-hidden":"true"})),r[11]||(r[11]=u("span",{class:"ms-1 hide-button-text-control"},"Reset",-1))]),u("button",{onClick:r[5]||(r[5]=()=>n(g(_e).SHUTDOWN)),class:"btn btn-primary btn-spaced",title:"Shutdown"},[g(e).running_commands.has(g(_e).SHUTDOWN)?(h(),q(i,{key:0,icon:"fas fa-power-off",spin:"","aria-hidden":"true"})):(h(),q(i,{key:1,icon:"fas fa-power-off","aria-hidden":"true"})),r[12]||(r[12]=u("span",{class:"ms-1 hide-button-text-control"},"Shutdown",-1))])])}}}),sh={key:0,class:"d-flex justify-content-between align-items-center p-2 top-bar"},nh={class:"row row-height"},oh={key:0,class:"col-3 d-flex flex-column h-100",id:"nodelist_container"},rh={class:"d-flex justify-content-between m-1 mt-2"},ih={class:"available-nodes m-1"},ah={class:"border rounded"},lh={class:"input-group p-2"},ch=["value"],uh={class:"col d-flex flex-column",id:"main_pane"},dh={class:"row justify-content-between bg-secondary"},_h={class:"row edit_canvas flex-grow-1 pb-2"},fh={class:"row"},ph={class:"col"},vh={key:3,class:"d-flex flex-column"},hh={class:"col"},mh={key:1,class:"d-flex flex-column"},gh=se({__name:"App",setup(s){const e=he(),t=is(),n=Hs(),o=gt(),r=le(),i=Ve(),a=v(!1);xs(a,L=>{L?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.removeAttribute("data-bs-theme")});function l(L){n.packages_available||n.arePackagesAvailable(!0),n.updateAvailablePackages(L.packages)}function c(){e.packages_sub.subscribe(l)}function d(L){t.messages_available||t.areMessagesAvailable(!0),t.updateAvailableMessages(L.messages)}function f(){e.messages_sub.subscribe(d)}function _(L){r.tree=L}function p(){e.tree_sub.subscribe(_)}function O(L){r.subtree_states=L.subtree_states}function T(){e.subtree_info_sub.subscribe(O)}function y(L){const N=L.target;F.value=N.value,o.filterNodes(N.value)}function I(L){L.key=="Escape"&&(F.value="",o.clearFilteredNodes())}function R(){return r.tree?r.tree.nodes.filter(L=>L.max_children<0||L.child_names.length<L.max_children).sort(function(L,N){return L.name<N.name?-1:L.name>N.name?1:0}):[]}const E=v(!0),$=v(),F=v(""),S=v(!0);return e.$onAction(({name:L,after:N})=>{L!=="changeNamespace"&&L!="hasConnected"||N(()=>{p(),T(),f(),c()})}),Vt(()=>{e.connect(),p(),T(),f(),c()}),(L,N)=>{const P=Re("font-awesome-icon"),U=Re("notifications");return h(),D(ae,null,[S.value?(h(),D("header",sh,[z(Zv),z(th),z(jv)])):Ae("",!0),u("main",null,[u("div",{class:Oe([g(r).is_dragging?"cursor-grabbing":"","container-fluid"]),onMouseup:N[5]||(N[5]=()=>g(r).stopDragging()),onMouseleave:N[6]||(N[6]=()=>g(r).stopDragging())},[u("div",nh,[E.value?(h(),D("div",oh,[u("div",rh,[u("button",{class:"btn btn-outline-primary",title:"Hide nodelist",onClick:N[0]||(N[0]=()=>{E.value=!E.value})},[z(P,{icon:"fa-solid fa-angle-double-left","aria-hidden":"true",class:"show-button-icon"})]),u("button",{class:"btn btn-outline-primary",onClick:N[1]||(N[1]=J=>a.value=!a.value),title:"Change window appearance"},[z(P,{class:Oe(a.value?"":"text-secondary"),icon:"fa-regular fa-moon"},null,8,["class"]),z(P,{class:Oe(a.value?"text-secondary":""),icon:"fa-regular fa-sun"},null,8,["class"])])]),u("div",ih,[(h(),q(P_,{key:g(e).namespace+"PackageLoader"})),u("div",ah,[u("div",lh,[N[7]||(N[7]=u("label",{for:"nodelist_search",class:"input-group-text"}," Search: ",-1)),u("input",{id:"nodelist_search",type:"text",ref_key:"nodelist_input_ref",ref:$,class:"form-control",value:F.value,onInput:y,onKeydown:I},null,40,ch)])])]),z(ef,{style:{"min-height":"0"}})])):Ae("",!0),u("div",uh,[u("div",dh,[E.value?Ae("",!0):(h(),D("button",{key:0,class:"btn btn-outline-light m-2 col-auto order-first",title:"Show nodelist",onClick:N[2]||(N[2]=()=>{E.value=!E.value})},[z(P,{icon:"fa-solid fa-angle-double-right","aria-hidden":"true",class:"show-button-icon"})])),z(af,{class:"col col-xl-3 order-xl-1"}),z(dv,{"exec-bar-visible":S.value,class:"col-auto order-xl-3",onShow:N[3]||(N[3]=()=>{S.value=!0,E.value=!0}),onHide:N[4]||(N[4]=()=>{S.value=!1,E.value=!1})},null,8,["exec-bar-visible"]),z(lv,{class:"col-12 col-xl-6 order-xl-2"})]),u("div",_h,[z(gf)]),u("div",fh,[u("div",ph,[g(i).last_seletion_source==="multiple"?(h(),q(Pf,{key:0})):g(i).last_seletion_source==="nodelist"?(h(),q(qp,{key:g(e).namespace+(g(i).selected_node?g(i).selected_node.module+g(i).selected_node.node_class:""),parents:R()},null,8,["parents"])):g(i).last_seletion_source==="editor"?(h(),q(tv,{key:g(e).namespace+(g(i).selected_node?g(i).selected_node.name:"")})):(h(),D("div",vh,"No Node Selected"))]),u("div",hh,[g(r).selected_edge!==void 0?(h(),q(Sf,{key:0})):(h(),D("div",mh,"No Edge Selected"))])])])])],34),z(U,{position:"bottom right",pauseOnHover:!0}),z(g(yi))])],64)}}});Ri.add(Pi,Mi,Fi,Vi,Hi,ji,Wi,Ui,Bi,zi,Ki,Gi,Yi,qi,Xi,Ji,Qi,Zi,ea,ta,sa,na,oa,ra,ia,aa,la,ca,ua,da,_a,fa,pa,va);const as=bi(gh),yh=Ei(),li=g_();li.use(x_);as.use(li);as.component("font-awesome-icon",ha);as.use(wi,{velocity:Ti});as.use(yh);as.mount("#root");
